{"code":1,"data":{"flow":{"id":30,"source":37,"name":"请假","type":3,"data":"[{id:\"start\",nodeType:1,parentId:\"\",content:\"发起人\"},{id:\"SJsxPGcF\",nodeType:4,parentId:\"\"},{id:\"0BjptkBe\",nodeType:5,parentId:\"SJsxPGcF\",priority:1,userType:\"\",flowType:\"\",content:\"$.duration<=2\"},{id:\"rNDFSaFs\",nodeType:2,parentId:\"0BjptkBe\",userType:\"1\",flowType:\"1\",content:\"admin\",priority:1},{id:\"F15jIwHB\",nodeType:3,parentId:\"0BjptkBe\",userType:\"1\",flowType:\"1\",content:\"user\",priority:1},{id:\"jAH8nqoK\",nodeType:5,parentId:\"SJsxPGcF\",content:\"其他条件进入此流程\",priority:0}]","listData":"","status":1,"updateDate":"2023-10-08T02:29:15.000Z","creatDate":"0000-00-00 00:00:00","dict":"","category":3,"creatName":"","editName":"","roleId":1,"remark":"","icon":"icon-sp,#007BFF"},"form":{"id":37,"source":14,"name":"请假流程表单","type":1,"data":"{list:[{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"事假\",value:\"1\"},{label:\"病假\",value:\"2\"},{label:\"调休\",value:\"3\"},{label:\"产假\",value:\"4\"},{label:\"陪产假\",value:\"5\"},{label:\"婚假\",value:\"6\"},{label:\"丧假\",value:\"7\"}],config:{optionsType:0},name:\"type\",formItem:{label:\"请假类型\",rules:[{required:true,message:\"请选择请假类型\",trigger:\"change\"}]}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\",placeholder:\"请填写开始时间\"},config:{},name:\"startTime\",formItem:{label:\"开始时间\",rules:[{required:true,message:\"请选择开始时间\",trigger:\"change\"}]}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\",placeholder:\"请填写结束时间\"},config:{},name:\"endTime\",formItem:{label:\"结束时间\",rules:[{required:true,message:\"请选择结束时间\",trigger:\"change\"},{validator:(rule, value, callback) =>\r\n        {\r\n          const val = getaskForLeaveValueByName('startTime')\r\n          if (value <= val)\r\n          {\r\n            callback(new Error('结束时间必须大于开始时间'))\r\n          }\r\n          else\r\n          {\r\n            callback()\r\n          }\r\n        },trigger:\"blur\"}]}},{type:\"input\",control:{modelValue:\"\",placeholder:\"自动计算时长\",disabled:true},config:{},name:\"duration\",formItem:{label:\"时长\"}},{type:\"textarea\",control:{modelValue:\"\",placeholder:\"不填写不能通过\"},config:{span:24},name:\"remark\",formItem:{label:\"请假事由\",rules:[{required:true,message:\"请填写请假事由\",trigger:\"change\"}]}},{type:\"upload\",control:{modelValue:\"\"},config:{},name:\"files\",formItem:{label:\"图片附件\",rules:[]}}],form:{size:\"default\",class:\"form-row-2\",labelWidth:\"100px\",name:\"askForLeave\"},config:{submitCancel:true},events:{change:(key, model) =>\r\n    {\r\n      // name当前改变组件的值,model表单的值\r\n      console.log(key, model)\r\n      if (['startTime', 'endTime'].includes(key) && model.startTime && model.endTime)\r\n      {\r\n        model.duration = (model.endTime - model.startTime) / (1000 * 60 * 60 * 24) + '天'\r\n      }\r\n      return model\r\n    }}}","listData":"","status":1,"updateDate":"2023-10-08T03:04:39.000Z","creatDate":"0000-00-00 00:00:00","dict":"{}","category":2,"creatName":"","editName":"","roleId":null,"remark":"","icon":null}},"message":"成功"}