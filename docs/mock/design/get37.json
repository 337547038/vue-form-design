{"code":1,"data":{"category":2,"creatDate":"2030-12-12 12:12:12","creatUserId":1,"data":"{list:[{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"事假\",value:\"1\"},{label:\"病假\",value:\"2\"},{label:\"调休\",value:\"3\"},{label:\"产假\",value:\"4\"},{label:\"陪产假\",value:\"5\"},{label:\"婚假\",value:\"6\"},{label:\"丧假\",value:\"7\"}],config:{optionsType:0},name:\"type\",formItem:{label:\"请假类型\",rules:[{required:true,message:\"请选择请假类型\",trigger:\"change\"}]}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\",placeholder:\"请填写开始时间\",valueFormat:\"YYYY-MM-DD\"},config:{},name:\"startTime\",formItem:{label:\"开始时间\",rules:[{required:true,message:\"请选择开始时间\",trigger:\"change\"}]}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\",placeholder:\"请填写结束时间\",valueFormat:\"YYYY-MM-DD\"},config:{},name:\"endTime\",formItem:{label:\"结束时间\",rules:[{required:true,message:\"请选择结束时间\",trigger:\"change\"},{validator:(rule, value, callback) =>\r\n        {\r\n          const val = getaskForLeaveValueByName('startTime')\r\n          if (value <= val)\r\n          {\r\n            callback(new Error('结束时间必须大于开始时间'))\r\n          }\r\n          else\r\n          {\r\n            callback()\r\n          }\r\n        },trigger:\"blur\"}]}},{type:\"input\",control:{modelValue:\"\",placeholder:\"自动计算时长\",disabled:true},config:{},name:\"duration\",formItem:{label:\"时长\"}},{type:\"textarea\",control:{modelValue:\"\",placeholder:\"不填写不能通过\"},config:{span:24},name:\"remark\",formItem:{label:\"请假事由\",rules:[{required:true,message:\"请填写请假事由\",trigger:\"change\"}]}},{type:\"upload\",control:{modelValue:\"\"},config:{},name:\"files\",formItem:{label:\"图片附件\",rules:[]}}],form:{size:\"default\",class:\"form-row-2\",labelWidth:\"100px\",name:\"askForLeave\"},config:{submitCancel:true},events:{change:(key, model) =>\r\n{\r\n  // name当前改变组件的值,model表单的值\r\n  console.log(key, model)\r\n  if (['startTime', 'endTime'].includes(key) && model.startTime && model.endTime)\r\n  {\r\n    model.duration = ((new Date(model.endTime) - new Date(model.startTime)) / (1000 * 60 * 60 * 24) +1)+ '天'\r\n  }\r\n  return model\r\n}}}","dict":"{}","editUserId":1,"id":37,"listData":"","name":"请假流程表单","remark":"","source":14,"status":1,"type":1,"updateDate":"2024-02-28 23:52:34"}}