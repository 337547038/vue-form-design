{"code":1,"data":{"flow":{"id":35,"source":25,"name":"加班","type":3,"data":"[{id:\"start\",nodeType:1,parentId:\"\",content:\"发起人\"}]","listData":"","status":1,"updateDate":"2023-10-08T01:18:23.000Z","creatDate":"0000-00-00 00:00:00","dict":"","category":1,"creatName":"","editName":"","roleId":1,"remark":"","icon":"icon-number,#F90404"},"form":{"id":25,"source":12,"name":"组件示例","type":1,"data":"{list:[{type:\"txt\",control:{modelValue:\"组件示例演示，可快速轻松实现功能复杂的各类型表单；功能强大、简单灵活、超乎你想象\",style:{color:\"red\"}},config:{span:24}},{type:\"title\",control:{modelValue:\"基础字段\"},config:{span:24}},{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入\"},config:{},name:\"text\",formItem:{label:\"单行文本\"}},{type:\"password\",control:{modelValue:\"\"},config:{},name:\"password\",formItem:{label:\"密码框\"},customRules:[]},{type:\"password\",control:{modelValue:\"\"},config:{},name:\"password2\",formItem:{label:\"确认密码\",rules:[{validator:(rule, value, callback) =>\n        {\n          // 获取密码的值\n          const val = getcomponentsValueByName('password')\n          console.log(val)\n          if (value === '')\n          {\n            callback(new Error('请输入密码'))\n          }\n          else if (value !== val)\n          {\n            callback(new Error('两次密码不一样'))\n          }\n          else\n          {\n            callback()\n          }\n        },trigger:\"change\"}]},customRules:[{type:\"required\",message:\"请输入确认密码\",trigger:\"blur\"}]},{type:\"switch\",control:{modelValue:false},config:{},name:\"status\",formItem:{label:\"状态开关\"}},{type:\"tabs\",columns:[{label:\"常用\",list:[{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[],config:{optionsType:1,optionsFun:\"deptList\",method:\"post\",label:\"name\",value:\"id\",transformData:\"string\"},name:\"select1\",formItem:{label:\"下拉选择\"}},{type:\"radio\",control:{modelValue:\"\"},options:[],config:{optionsType:2,optionsFun:\"sys-status\"},name:\"radio\",formItem:{label:\"单选组\"}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\"},config:{},name:\"creatTime\",formItem:{label:\"时间\"}},{type:\"checkbox\",control:{modelValue:[]},options:[{label:\"电脑\",value:\"1\"},{label:\"音乐\",value:\"2\"},{label:\"旅游\",value:\"3\"}],config:{optionsType:0,transformData:\"string\"},name:\"checkbox\",formItem:{label:\"多选组\"}}]},{label:\"其他\",list:[{type:\"colorPicker\",control:{modelValue:\"\"},config:{},name:\"color\",formItem:{label:\"取色器\"}},{type:\"rate\",control:{modelValue:0},config:{},name:\"rate\",formItem:{label:\"评分\"}},{type:\"inputNumber\",control:{modelValue:0},config:{},name:\"number\",formItem:{label:\"计时器\"}},{type:\"cascader\",control:{modelValue:[]},options:[],config:{optionsType:0},name:\"cascader\",formItem:{label:\"级联\"}},{type:\"slider\",control:{modelValue:0},config:{},name:\"slider\",formItem:{label:\"滑块\"}},{type:\"treeSelect\",control:{modelValue:\"\",data:[],renderAfterExpand:false},config:{optionsType:0},name:\"tree\",formItem:{label:\"树形控件\"}}]}],control:{},config:{span:24}},{type:\"textarea\",control:{modelValue:\"\"},config:{span:24},name:\"textarea\",formItem:{label:\"多行文本\"}},{type:\"upload\",control:{modelValue:\"\",listType:\"text\",action:\"\"},config:{btnText:\"选择文件\"},name:\"upload\",formItem:{label:\"上传图片\"}},{type:\"card\",list:[{type:\"component\",control:{modelValue:\"\",placeholder:\"请选择地理位置\"},config:{componentName:\"ComponentTest\"},name:\"components\",formItem:{label:\"选择位置\"}},{type:\"expand-user\",control:{modelValue:\"\"},config:{},name:\"userName\",formItem:{label:\"选择用户\"}}],control:{},config:{span:24},item:{label:\"自定义及扩展组件\"}},{type:\"title\",control:{modelValue:\"复合型输入框\"},config:{span:24}},{type:\"inputSlot\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"小时\",value:\"1\"},{label:\"分钟\",value:\"2\"},{label:\"天\",value:\"3\"}],config:{optionsType:0,transformData:\"string\"},name:\"prepend\",formItem:{label:\"前缀\"}},{type:\"input\",control:{modelValue:\"\"},config:{append:\"key:prepend\"},name:\"input1\",formItem:{label:\"文本框1\"}},{type:\"title\",control:{modelValue:\"子表\"},config:{span:24}},{type:\"table\",list:[{type:\"input\",control:{modelValue:\"\",placeholder:\"这里也可以校验哦\"},config:{},name:\"t1\",formItem:{label:\"姓名\"},customRules:[{type:\"required\",message:\"请输入姓名\",trigger:\"blur\"}]},{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"男\",value:\"1\"},{label:\"女\",value:\"2\"}],config:{optionsType:0},name:\"t2\",formItem:{label:\"性别\"}}],tableData:[],control:{border:true},config:{addBtnText:\"添加一行\",span:24,delBtnText:\"删除\"},name:\"table\"},{type:\"title\",control:{modelValue:\"弹性布局\"},config:{span:24,help:\"什么是弹性布局\"}},{type:\"flex\",list:[{type:\"input\",control:{modelValue:\"\",placeholder:\"这里可以校验哦\"},config:{},name:\"f1\",formItem:{label:\"姓名\"},customRules:[{type:\"required\",message:\"请输入姓名\",trigger:\"blur\"}]},{type:\"input\",control:{modelValue:\"\"},config:{},name:\"f2\",formItem:{label:\"联系电话\"},customRules:[{type:\"mobile\",message:\"请输入手机号码\",trigger:\"blur\"}]}],tableData:[],control:{},config:{add:\"添加一行\",span:24,addBtnText:\"添加\",delBtnText:\"del\"},name:\"flex\"},{type:\"tinymce\",control:{modelValue:\"\"},config:{span:24},name:\"tinymce\",formItem:{label:\"富文本\"}}],form:{size:\"default\",labelWidth:\"120px\",class:\"form-row-2\",name:\"components\"},config:{submitCancel:true},events:{afterResponse:(res) =>\r\n{\r\n  const result = res.result\r\n  result.checkbox = result.checkbox ? result.checkbox.split(',') : []\r\n  result.slider = result.slider ? parseInt(result.slider) : 0\r\n  result.table = result.table ? JSON.parse(result.table) : []\r\n  result.flex = result.flex ? JSON.parse(result.flex) : []\r\n  result.cascader = result.cascader ? JSON.parse(result.cascader) : []\r\n  result.password2 = result.password // 设置确认密码\r\n  console.log(res)\r\n  return res\r\n},beforeSubmit:(data, route) =>\n{\n  // data经过处理后返回示例接口只接收string\n  if (data.password2)\n  {\n    delete data.password2\n  }\n  // 转字符串\n  try {\n      data.checkbox = data.checkbox.join(',')\n      data.table = JSON.stringify(data.table)\n       data.flex = JSON.stringify(data.flex)\n      data.cascader=JSON.stringify(data.cascader)\n  } catch (e) {}\n  console.log('beforeRequest', data)\n  return data\n}}}","listData":"","status":1,"updateDate":"2023-10-08T02:49:07.000Z","creatDate":"0000-00-00 00:00:00","dict":"{\"test\":{\"0\":\"test1\",\"1\":\"test2\"}}","category":1,"creatName":"","editName":"","roleId":1,"remark":"","icon":null}},"message":"成功"}