import{d as V,u as D,G as I,l as a,r as o,c as C,o as E,j as i,w as n,m as N,t as p,q as w}from"./index-DJZwJYaM.js";const q=V({__name:"list",setup(T){const s=D(),t=I({visible:!1,id:null}),r=a(),c=a(),f=a({columns:[{label:"勾选",type:"selection"},{prop:"id",label:"ID",width:"60px"},{prop:"name",label:"名称",width:"150px"},{prop:"sourceName",label:"表单名称/ID",width:150},{prop:"category",label:"分类",render:"tag",replaceValue:"sys-list",custom:{1:"success",2:"danger"}},{prop:"status",label:"状态",render:"switch",config:{inlinePrompt:!0,activeText:"启用",inactiveText:"禁用",activeValue:1,inactiveValue:0}},{prop:"creatUserId",label:"创建人",render:"text",replaceValue:"creatUser"},{prop:"updateDate",label:"更新时间",width:200,render:"datetime"},{label:"操作",render:"buttons",width:"300px",fixed:"right",buttons:[{key:"edit",label:"编辑",click:e=>{d(e)},icon:""},{label:"设置",click:e=>{t.visible=!0,w(()=>{t.id=e.id,r.value.setValue(e,!0)})}},{label:"搜索设置",click:e=>{s.push({path:"/design/form",query:{type:"search",id:e.id,redirect:"/design/list/list"}})}},{label:"查看",click:e=>{s.push({path:"/design/list/content/"+e.id})},icon:""},{key:"del",label:"删除",icon:""}]}],controlBtn:[{label:"新增列表",key:"add",size:"small",click:()=>{d({})}},{label:"删除",key:"del",size:"small"}],config:{fixedBottomScroll:!0,columnsSetting:!0,expand:!0}}),d=e=>{s.push({path:"/design/list",query:{id:e.id}})},b=a({list:[{type:"input",control:{modelValue:"",placeholder:"请输入列表名称"},config:{},name:"name",formItem:{label:"名称"}},{type:"input",control:{modelValue:"",placeholder:"请输入表单名称"},config:{},name:"sourceName",formItem:{label:"表单名称"}}],form:{labelWidth:"",class:"",size:"default"},config:{submitCancel:!0}}),g=a({list:[{type:"input",control:{modelValue:"",placeholder:"请输入列表名称"},name:"name",formItem:{label:"名称"}},{type:"select",control:{modelValue:""},options:[],config:{optionsType:2,optionsFun:"sys-list"},name:"category",formItem:{label:"分类"}},{type:"select",control:{modelValue:""},options:[],config:{optionsType:2,optionsFun:"sys-status"},name:"status",formItem:{label:"启用状态"}}],form:{labelWidth:"140px",class:"",size:"default",name:"formDialog"},config:{submitCancel:!0}}),y=()=>{t.visible=!1,c.value.getListData()},h=e=>{e==="reset"&&(t.visible=!1)};return(e,u)=>{const k=o("router-link"),_=o("ak-list"),v=o("ak-form"),x=o("el-dialog");return E(),C("div",null,[i(_,{ref_key:"tableListEl",ref:c,"api-key":{list:"designList",del:"designDelete",edit:"designEdit"},"search-data":b.value,data:f.value,query:{type:2}},{sourceName:n(({row:l,dict:m})=>[i(k,{to:`/design/form?id=${l.source}&redirect=/design/list/list`},{default:n(()=>[N(p(m.formName&&m.formName[l.source])+"/"+p(l.source),1)]),_:2},1032,["to"])]),_:1},8,["search-data","data"]),i(x,{modelValue:t.visible,"onUpdate:modelValue":u[0]||(u[0]=l=>t.visible=l),title:"设置",width:"480px","destroy-on-close":""},{default:n(()=>[i(v,{ref_key:"formEl",ref:r,data:g.value,"operate-type":"edit",params:{id:t.id},"submit-url":"designEdit",after:y,onBtnClick:h},null,8,["data","params"])]),_:1},8,["modelValue"])])}}});export{q as default};
