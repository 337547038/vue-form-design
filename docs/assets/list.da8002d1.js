var v=Object.defineProperty,w=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var D=(e,t,a)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,k=(e,t)=>{for(var a in t||(t={}))N.call(t,a)&&D(e,a,t[a]);if(p)for(var a of p(t))x.call(t,a)&&D(e,a,t[a]);return e},q=(e,t)=>w(e,R(t));import{_ as E,t as I,h as L,b as B,i as U}from"./index.2eb78c65.js";import{S as $,$ as T,i as V,p as S,q as j,r as C,o as F,y as M,a as f,w as u,E as m,h as y,v as b}from"./vendor.df12524c.js";import{s as g}from"./index.6c162138.js";const O={name:"list",props:{},components:{tableList:I},setup(){const e=$(),t=T(),a=e.query.formId,s=e.query.formName,l=V(),i=S({loading:!1,tableData:{config:{},columns:[]},searchData:{},requestUrl:L}),n=()=>{B(a).then(o=>{if(o.data.code===200){const r=o.data.data[0];if(!r.tableData){m.info("\u8BF7\u5148\u8BBE\u7F6E\u8868\u683C\u5217\u6570\u636E");return}i.tableData=g(r.tableData),r.searchData&&(i.searchData=g(r.searchData))}})},_=o=>o,c=()=>{l.value.searchClick()},d=(o,r)=>{switch(r){case"show":t.push({path:"/form",query:{formName:s,formId:a,id:o,type:2}});break;case"edit":t.push({path:"/form",query:{formName:s,formId:a,id:o}});break;case"del":U(s,o).then(h=>{h.data.code===200?(m.success("\u5220\u9664\u6210\u529F"),l.value.getListData()):m.error("\u5220\u9664\u5931\u8D25")}).catch(h=>{m.error("\u5220\u9664\u5931\u8D25")});break}};return a&&n(),q(k({},j(i)),{beforeRequest:_,onSubmit:c,tableListEl:l,btnClick:d})}},z={class:"form-list-page"},A=y("h3",null,"\u5217\u8868\u6570\u636E",-1),G=b("\u67E5\u770B"),H=b("\u7F16\u8F91"),J=b("\u5220\u9664"),K=y("p",{style:{"padding-top":"20px",color:"#999"}},"\u6CE8\uFF1A\u6B64\u793A\u4F8B\u63A5\u53E3\u4E0D\u652F\u6301\u641C\u7D22\u5206\u9875\u67E5\u8BE2",-1);function P(e,t,a,s,l,i){const n=C("el-button"),_=C("table-list");return F(),M("div",z,[A,f(_,{ref:"tableListEl",searchData:e.searchData,tableData:e.tableData,requestUrl:e.requestUrl,beforeRequest:s.beforeRequest},{__control:u(c=>[f(n,{type:"text",onClick:d=>s.btnClick(c.row.id,"show")},{default:u(()=>[G]),_:2},1032,["onClick"]),f(n,{type:"text",onClick:d=>s.btnClick(c.row.id,"edit")},{default:u(()=>[H]),_:2},1032,["onClick"]),f(n,{type:"text",onClick:d=>s.btnClick(c.row.id,"del")},{default:u(()=>[J]),_:2},1032,["onClick"])]),_:1},8,["searchData","tableData","requestUrl","beforeRequest"]),K])}var Z=E(O,[["render",P]]);export{Z as default};
