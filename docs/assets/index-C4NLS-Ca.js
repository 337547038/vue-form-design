import{d as D,u as M,r as o,o as l,c as C,a as N,F as R,b as a,w as n,e as I,f as h,n as A,g as p,t as F,h as S,i as t,j as K,k as V,l as U,m as E,p as W,q as B,s as X,v as Y,K as Z,x as ee,y as ne}from"./index-CDYjrzCG.js";const te=""+new URL("logo-CPmPqqKk.png",import.meta.url).href,oe=D({__name:"menuItem",props:{data:{default:()=>[]}},setup(L){const i=M(),s=c=>{c.indexOf("api/swagger")!==-1?window.location.href=c:i.push({path:c})};return(c,k)=>{const m=o("el-icon"),$=o("menu-item",!0),b=o("el-sub-menu"),r=o("el-menu-item");return l(!0),C(R,null,N(c.data,(e,u)=>(l(),C(R,{key:u},[e.children?(l(),a(b,{key:0,index:e.path||e.name},{title:n(()=>[e.elIcon?(l(),a(m,{key:0},{default:n(()=>[(l(),a(I(e.elIcon)))]),_:2},1024)):h("",!0),e.icon?(l(),C("i",{key:1,class:A(`icon ${e.icon}`)},null,2)):h("",!0),p("span",null,F(e.name),1)]),default:n(()=>[e.children.length?(l(),a($,{key:0,data:e.children},null,8,["data"])):h("",!0)]),_:2},1032,["index"])):(l(),a(r,{key:1,index:e.path||e.name,onClick:d=>s(e.path)},{default:n(()=>[e.elIcon?(l(),a(m,{key:0},{default:n(()=>[(l(),a(I(e.elIcon)))]),_:2},1024)):h("",!0),e.icon?(l(),C("i",{key:1,class:A(`icon ${e.icon}`)},null,2)):h("",!0),p("span",null,F(e.name),1)]),_:2},1032,["index","onClick"]))],64))),128)}}}),le=D({__name:"menu",props:{collapse:{type:Boolean}},setup(L){const i=S(()=>K("formMenuList",!0)),s=()=>{};return(c,k)=>{const m=o("el-menu");return l(),a(m,{collapse:c.collapse,"active-text-color":"#ffd04b","background-color":"rgb(48 65 86)","text-color":"#fff",onSelect:s},{default:n(()=>[t(oe,{data:i.value},null,8,["data"])]),_:1},8,["collapse"])}}}),ae={class:"comm-header-tool"},se={class:"header-right"},ce={class:"header-avatar",style:{cursor:"pointer"}},re={class:"name"},ue=p("span",{class:"title"},"个人中心",-1),_e=p("span",{class:"title"},"设置",-1),ie=p("span",{class:"title"},"退出登录",-1),de=D({__name:"header",emits:["click"],setup(L,{emit:i}){const s=V(),c=M(),k=S(()=>s==null?void 0:s.breadcrumb),m=S(()=>s==null?void 0:s.collapseMenu),$=i,b=U({name:"admin",avatar:""}),r=u=>{u==="collapse"&&s.setCollapseMenu(!m.value),$("click",u)},e=()=>{s.logout(c)};return(u,d)=>{const w=o("Fold"),y=o("Expand"),_=o("el-icon"),g=o("el-breadcrumb-item"),x=o("el-breadcrumb"),v=o("RefreshRight"),z=o("FullScreen"),J=o("el-avatar"),O=o("arrow-down"),P=o("User"),q=o("el-dropdown-item"),T=o("Setting"),j=o("CircleClose"),G=o("el-dropdown-menu"),H=o("el-dropdown");return l(),C(R,null,[t(_,{onClick:d[0]||(d[0]=f=>r("collapse")),class:"collapse-icon"},{default:n(()=>[m.value?(l(),a(y,{key:1})):(l(),a(w,{key:0}))]),_:1}),t(x,{separator:"/",class:"breadcrumb"},{default:n(()=>[t(g,{to:{path:"/"}},{default:n(()=>[E("首页")]),_:1}),(l(!0),C(R,null,N(k.value,(f,Q)=>(l(),C(R,{key:Q},[f.path?(l(),a(g,{key:0,to:{path:f.path}},{default:n(()=>[E(F(f.label||f.name),1)]),_:2},1032,["to"])):(l(),a(g,{key:1},{default:n(()=>[E(F(f.label||f.name),1)]),_:2},1024))],64))),128))]),_:1}),p("div",ae,[t(_,{onClick:d[1]||(d[1]=f=>r("refresh")),title:"刷新页面"},{default:n(()=>[t(v)]),_:1}),t(_,{title:"全屏"},{default:n(()=>[t(z,{onClick:d[2]||(d[2]=f=>r("fullScreen"))})]),_:1})]),p("div",se,[t(H,null,{dropdown:n(()=>[t(G,null,{default:n(()=>[t(q,null,{default:n(()=>[t(_,null,{default:n(()=>[t(P)]),_:1}),ue]),_:1}),t(q,null,{default:n(()=>[t(_,null,{default:n(()=>[t(T)]),_:1}),_e]),_:1}),t(q,{onClick:e},{default:n(()=>[t(_,null,{default:n(()=>[t(j)]),_:1}),ie]),_:1})]),_:1})]),default:n(()=>[p("div",ce,[t(J,{class:"avatar",size:"small",shape:"circle",src:b.value.avatar},null,8,["src"]),p("span",re,F(b.value.name),1),t(_,{class:"el-icon--right"},{default:n(()=>[t(O)]),_:1})])]),_:1})])],64)}}}),pe=p("img",{src:te,alt:""},null,-1),fe=D({__name:"index",setup(L){const i=V(),s=S(()=>i.collapseMenu),c=U(!1),k=S({get:()=>i.reloadFlag,set:()=>{i.setReloadRouter()}}),m=r=>{r==="fullScreen"&&(c.value=!c.value),r==="refresh"&&(k.value=!1,B(()=>{k.value=!0}))},$=S(()=>{const r=i==null?void 0:i.tabs;if(r){const e=[];return r.forEach(u=>{e.push(u.name)}),e}return[]}),b=()=>{K("akAllDict",!0)||ee("dictList",{query:{status:1}}).then(e=>{var w;const u=(w=e.data)==null?void 0:w.list,d={};u!=null&&u.length&&(u.forEach(y=>{const _=y.children;if(_){const g=JSON.parse(_),x={};g.forEach(v=>{x[v.value]=v.label}),d[y.type]=x}}),ne("akAllDict",d,0))})};return W(()=>{B(()=>{b()})}),(r,e)=>{const u=o("el-aside"),d=o("el-header"),w=o("router-view"),y=o("el-main"),_=o("el-container"),g=o("Close"),x=o("el-icon");return l(),a(_,{class:"common-layout"},{default:n(()=>[c.value?h("",!0):(l(),a(u,{key:0,width:s.value?"44px":"180px",class:"common-sidebar"},{default:n(()=>[p("div",{class:"logo",onClick:e[0]||(e[0]=v=>r.$router.push({path:"/"}))},[pe,X(p("span",null,"AK低代码快速开发平台",512),[[Y,!s.value]])]),t(le,{collapse:s.value},null,8,["collapse"])]),_:1},8,["width"])),t(_,{class:"overflow-scroll"},{default:n(()=>[c.value?h("",!0):(l(),a(d,{key:0,class:"common-header"},{default:n(()=>[t(de,{onClick:m})]),_:1})),t(y,{class:"common-main"},{default:n(()=>[k.value?(l(),a(w,{key:0},{default:n(({Component:v})=>[(l(),a(Z,{include:$.value},[(l(),a(I(v)))],1032,["include"]))]),_:1})):h("",!0)]),_:1})]),_:1}),c.value?(l(),a(x,{key:1,class:"quit-full",onClick:e[1]||(e[1]=v=>m("fullScreen")),title:"退出全屏"},{default:n(()=>[t(g)]),_:1})):h("",!0)]),_:1})}}});export{fe as default};
