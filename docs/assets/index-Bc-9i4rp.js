import{d as R,u as E,r as o,c as h,o as t,a as K,F as x,b as a,w as e,e as k,f as i,g as B,n as M,t as S,h as b,i as Q,j as n,k as N,l as U,m as L,p as W,q as D,s as X,v as Y,K as Z}from"./index-D9mad5Az.js";const ee=""+new URL("logo-CPmPqqKk.png",import.meta.url).href,ne=R({__name:"menuItem",props:{data:{default:()=>[]}},setup(F){const p=E(),_=s=>{if(s.indexOf("api/swagger")!==-1)window.location.href=s;else{const m={};if(s?.indexOf("?")!==-1){const d=s.split("?")[1],g=new URLSearchParams(d);for(const[u,r]of g.entries())m[u]=r}p.push({path:s,query:m})}};return(s,m)=>{const d=o("el-icon"),g=o("menu-item",!0),u=o("el-sub-menu"),r=o("el-menu-item");return t(!0),h(x,null,K(s.data,(l,C)=>(t(),h(x,{key:C},[l.children?(t(),a(u,{key:0,index:l.path||l.name},{title:e(()=>[l.elIcon?(t(),a(d,{key:0},{default:e(()=>[(t(),a(B(l.elIcon)))]),_:2},1024)):k("",!0),l.icon?(t(),h("i",{key:1,class:M(`icon ${l.icon}`)},null,2)):k("",!0),i("span",null,S(l.name),1)]),default:e(()=>[l.children.length?(t(),a(g,{key:0,data:l.children},null,8,["data"])):k("",!0)]),_:2},1032,["index"])):(t(),a(r,{key:1,index:l.path||l.name,onClick:c=>_(l.path)},{default:e(()=>[l.elIcon?(t(),a(d,{key:0},{default:e(()=>[(t(),a(B(l.elIcon)))]),_:2},1024)):k("",!0),l.icon?(t(),h("i",{key:1,class:M(`icon ${l.icon}`)},null,2)):k("",!0),i("span",null,S(l.name),1)]),_:2},1032,["index","onClick"]))],64))),128)}}}),oe=R({__name:"menu",props:{collapse:{type:Boolean}},setup(F){const p=b(()=>Q("formMenuList",!0)),_=()=>{};return(s,m)=>{const d=o("el-menu");return t(),a(d,{collapse:s.collapse,"active-text-color":"#ffd04b","background-color":"rgb(48 65 86)","text-color":"#fff",onSelect:_},{default:e(()=>[n(ne,{data:p.value},null,8,["data"])]),_:1},8,["collapse"])}}}),te={class:"comm-header-tool"},le={class:"header-right"},ae={class:"header-avatar",style:{cursor:"pointer"}},se={class:"name"},re=R({__name:"header",emits:["click"],setup(F,{emit:p}){const _=N(),s=E(),m=b(()=>_?.breadcrumb),d=b(()=>_?.collapseMenu),g=p,u=U({name:"admin",avatar:""}),r=C=>{C==="collapse"&&_.setCollapseMenu(!d.value),g("click",C)},l=()=>{_.logout(s)};return(C,c)=>{const q=o("Fold"),$=o("Expand"),f=o("el-icon"),w=o("el-breadcrumb-item"),y=o("el-breadcrumb"),V=o("RefreshRight"),A=o("FullScreen"),O=o("el-avatar"),P=o("arrow-down"),j=o("User"),I=o("el-dropdown-item"),z=o("Setting"),T=o("CircleClose"),G=o("el-dropdown-menu"),H=o("el-dropdown");return t(),h(x,null,[n(f,{class:"collapse-icon",onClick:c[0]||(c[0]=v=>r("collapse"))},{default:e(()=>[d.value?(t(),a($,{key:1})):(t(),a(q,{key:0}))]),_:1}),n(y,{separator:"/",class:"breadcrumb"},{default:e(()=>[n(w,{to:{path:"/"}},{default:e(()=>[...c[3]||(c[3]=[L(" 首页 ",-1)])]),_:1}),(t(!0),h(x,null,K(m.value,(v,J)=>(t(),h(x,{key:J},[v.path?(t(),a(w,{key:0,to:{path:v.path}},{default:e(()=>[L(S(v.label||v.name),1)]),_:2},1032,["to"])):(t(),a(w,{key:1},{default:e(()=>[L(S(v.label||v.name),1)]),_:2},1024))],64))),128))]),_:1}),i("div",te,[n(f,{title:"刷新页面",onClick:c[1]||(c[1]=v=>r("refresh"))},{default:e(()=>[n(V)]),_:1}),n(f,{title:"全屏"},{default:e(()=>[n(A,{onClick:c[2]||(c[2]=v=>r("fullScreen"))})]),_:1})]),i("div",le,[n(H,null,{dropdown:e(()=>[n(G,null,{default:e(()=>[n(I,null,{default:e(()=>[n(f,null,{default:e(()=>[n(j)]),_:1}),c[4]||(c[4]=i("span",{class:"title"},"个人中心",-1))]),_:1}),n(I,null,{default:e(()=>[n(f,null,{default:e(()=>[n(z)]),_:1}),c[5]||(c[5]=i("span",{class:"title"},"设置",-1))]),_:1}),n(I,{onClick:l},{default:e(()=>[n(f,null,{default:e(()=>[n(T)]),_:1}),c[6]||(c[6]=i("span",{class:"title"},"退出登录",-1))]),_:1})]),_:1})]),default:e(()=>[i("div",ae,[n(O,{class:"avatar",size:"small",shape:"circle",src:u.value.avatar},null,8,["src"]),i("span",se,S(u.value.name),1),n(f,{class:"el-icon--right"},{default:e(()=>[n(P)]),_:1})])]),_:1})])],64)}}}),ue=R({__name:"index",setup(F){const p=N(),_=b(()=>p.collapseMenu),s=U(!1),m=b({get:()=>p.reloadFlag,set:()=>{p.setReloadRouter()}}),d=u=>{u==="fullScreen"&&(s.value=!s.value),u==="refresh"&&(m.value=!1,D(()=>{m.value=!0}))},g=b(()=>{const u=p?.tabs;if(u){const r=[];return u.forEach(l=>{r.push(l.name)}),r}return[]});return W(()=>{D(()=>{p.getDict()})}),(u,r)=>{const l=o("el-aside"),C=o("el-header"),c=o("router-view"),q=o("el-main"),$=o("el-container"),f=o("Close"),w=o("el-icon");return t(),a($,{class:"common-layout"},{default:e(()=>[s.value?k("",!0):(t(),a(l,{key:0,width:_.value?"44px":"180px",class:"common-sidebar"},{default:e(()=>[i("div",{class:"logo",onClick:r[0]||(r[0]=y=>u.$router.push({path:"/"}))},[r[2]||(r[2]=i("img",{src:ee,alt:""},null,-1)),X(i("span",null,"AK低代码快速开发平台",512),[[Y,!_.value]])]),n(oe,{collapse:_.value},null,8,["collapse"])]),_:1},8,["width"])),n($,{class:"overflow-scroll"},{default:e(()=>[s.value?k("",!0):(t(),a(C,{key:0,class:"common-header"},{default:e(()=>[n(re,{onClick:d})]),_:1})),n(q,{class:"common-main"},{default:e(()=>[m.value?(t(),a(c,{key:0},{default:e(({Component:y})=>[(t(),a(Z,{include:g.value},[(t(),a(B(y)))],1032,["include"]))]),_:1})):k("",!0)]),_:1})]),_:1}),s.value?(t(),a(w,{key:1,class:"quit-full",title:"退出全屏",onClick:r[1]||(r[1]=y=>d("fullScreen"))},{default:e(()=>[n(f)]),_:1})):k("",!0)]),_:1})}}});export{ue as default};
