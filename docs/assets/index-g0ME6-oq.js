import{d as L,u as A,r as o,o as l,c as g,a as D,F as R,b as a,w as n,e as B,f as h,n as M,g as p,t as F,h as x,i as t,j as Q,k as K,l as V,m as I,p as W,q as N,s as X,v as Y,K as Z,x as ee,y as ne}from"./index-DLbVpaQ3.js";const te=""+new URL("logo-CPmPqqKk.png",import.meta.url).href,oe=L({__name:"menuItem",props:{data:{default:()=>[]}},setup(q){const u=A(),s=c=>{c.indexOf("api/swagger")!==-1?window.location.href=c:u.push({path:c})};return(c,k)=>{const m=o("el-icon"),S=o("menu-item",!0),C=o("el-sub-menu"),r=o("el-menu-item");return l(!0),g(R,null,D(c.data,(e,_)=>(l(),g(R,{key:_},[e.children?(l(),a(C,{key:0,index:e.path||e.name},{title:n(()=>[e.elIcon?(l(),a(m,{key:0},{default:n(()=>[(l(),a(B(e.elIcon)))]),_:2},1024)):h("",!0),e.icon?(l(),g("i",{key:1,class:M(`icon ${e.icon}`)},null,2)):h("",!0),p("span",null,F(e.name),1)]),default:n(()=>[e.children.length?(l(),a(S,{key:0,data:e.children},null,8,["data"])):h("",!0)]),_:2},1032,["index"])):(l(),a(r,{key:1,index:e.path||e.name,onClick:d=>s(e.path)},{default:n(()=>[e.elIcon?(l(),a(m,{key:0},{default:n(()=>[(l(),a(B(e.elIcon)))]),_:2},1024)):h("",!0),e.icon?(l(),g("i",{key:1,class:M(`icon ${e.icon}`)},null,2)):h("",!0),p("span",null,F(e.name),1)]),_:2},1032,["index","onClick"]))],64))),128)}}}),le=L({__name:"menu",props:{collapse:{type:Boolean}},setup(q){const u=x(()=>Q("formMenuList",!0)),s=()=>{};return(c,k)=>{const m=o("el-menu");return l(),a(m,{collapse:c.collapse,"active-text-color":"#ffd04b","background-color":"rgb(48 65 86)","text-color":"#fff",onSelect:s},{default:n(()=>[t(oe,{data:u.value},null,8,["data"])]),_:1},8,["collapse"])}}}),ae={class:"comm-header-tool"},se={class:"header-right"},ce={class:"header-avatar",style:{cursor:"pointer"}},re={class:"name"},ue=p("span",{class:"title"},"个人中心",-1),_e=p("span",{class:"title"},"设置",-1),de=p("span",{class:"title"},"退出登录",-1),ie=L({__name:"header",emits:["click"],setup(q,{emit:u}){const s=K(),c=A(),k=x(()=>s==null?void 0:s.breadcrumb),m=x(()=>s==null?void 0:s.collapseMenu),S=u,C=V({name:"admin",avatar:""}),r=_=>{_==="collapse"&&s.setCollapseMenu(!m.value),S("click",_)},e=()=>{s.logout(c)};return(_,d)=>{const b=o("Fold"),w=o("Expand"),i=o("el-icon"),v=o("el-breadcrumb-item"),y=o("el-breadcrumb"),$=o("RefreshRight"),U=o("FullScreen"),z=o("el-avatar"),J=o("arrow-down"),O=o("User"),E=o("el-dropdown-item"),P=o("Setting"),T=o("CircleClose"),j=o("el-dropdown-menu"),G=o("el-dropdown");return l(),g(R,null,[t(i,{onClick:d[0]||(d[0]=f=>r("collapse")),class:"collapse-icon"},{default:n(()=>[m.value?(l(),a(w,{key:1})):(l(),a(b,{key:0}))]),_:1}),t(y,{separator:"/",class:"breadcrumb"},{default:n(()=>[t(v,{to:{path:"/"}},{default:n(()=>[I("首页")]),_:1}),(l(!0),g(R,null,D(k.value,(f,H)=>(l(),g(R,{key:H},[f.path?(l(),a(v,{key:0,to:{path:f.path}},{default:n(()=>[I(F(f.label||f.name),1)]),_:2},1032,["to"])):(l(),a(v,{key:1},{default:n(()=>[I(F(f.label||f.name),1)]),_:2},1024))],64))),128))]),_:1}),p("div",ae,[t(i,{onClick:d[1]||(d[1]=f=>r("refresh")),title:"刷新页面"},{default:n(()=>[t($)]),_:1}),t(i,{title:"全屏"},{default:n(()=>[t(U,{onClick:d[2]||(d[2]=f=>r("fullScreen"))})]),_:1})]),p("div",se,[t(G,null,{dropdown:n(()=>[t(j,null,{default:n(()=>[t(E,null,{default:n(()=>[t(i,null,{default:n(()=>[t(O)]),_:1}),ue]),_:1}),t(E,null,{default:n(()=>[t(i,null,{default:n(()=>[t(P)]),_:1}),_e]),_:1}),t(E,{onClick:e},{default:n(()=>[t(i,null,{default:n(()=>[t(T)]),_:1}),de]),_:1})]),_:1})]),default:n(()=>[p("div",ce,[t(z,{class:"avatar",size:"small",shape:"circle",src:C.value.avatar},null,8,["src"]),p("span",re,F(C.value.name),1),t(i,{class:"el-icon--right"},{default:n(()=>[t(J)]),_:1})])]),_:1})])],64)}}}),pe=p("img",{src:te,alt:""},null,-1),fe=L({__name:"index",setup(q){const u=K(),s=x(()=>u.collapseMenu),c=V(!1),k=x({get:()=>u.reloadFlag,set:()=>{u.setReloadRouter()}}),m=r=>{r==="fullScreen"&&(c.value=!c.value),r==="refresh"&&(k.value=!1,N(()=>{k.value=!0}))},S=x(()=>{const r=u==null?void 0:u.tabs;if(r){const e=[];return r.forEach(_=>{e.push(_.name)}),e}return[]}),C=()=>{ee("dictList",{query:{status:1}}).then(r=>{var d;const e=(d=r.data)==null?void 0:d.list,_={};e!=null&&e.length&&(e.forEach(b=>{const w=b.children;if(w){const i=JSON.parse(w),v={};i.forEach(y=>{v[y.value]=y.label}),_[b.type]=v}}),ne("akAllDict",_,0))})};return W(()=>{N(()=>{C()})}),(r,e)=>{const _=o("el-aside"),d=o("el-header"),b=o("router-view"),w=o("el-main"),i=o("el-container"),v=o("Close"),y=o("el-icon");return l(),a(i,{class:"common-layout"},{default:n(()=>[c.value?h("",!0):(l(),a(_,{key:0,width:s.value?"44px":"180px",class:"common-sidebar"},{default:n(()=>[p("div",{class:"logo",onClick:e[0]||(e[0]=$=>r.$router.push({path:"/"}))},[pe,X(p("span",null,"AK低代码快速开发平台",512),[[Y,!s.value]])]),t(le,{collapse:s.value},null,8,["collapse"])]),_:1},8,["width"])),t(i,{class:"overflow-scroll"},{default:n(()=>[c.value?h("",!0):(l(),a(d,{key:0,class:"common-header"},{default:n(()=>[t(ie,{onClick:m})]),_:1})),t(w,{class:"common-main"},{default:n(()=>[k.value?(l(),a(b,{key:0},{default:n(({Component:$})=>[(l(),a(Z,{include:S.value},[(l(),a(B($)))],1032,["include"]))]),_:1})):h("",!0)]),_:1})]),_:1}),c.value?(l(),a(y,{key:1,class:"quit-full",onClick:e[1]||(e[1]=$=>m("fullScreen")),title:"退出全屏"},{default:n(()=>[t(v)]),_:1})):h("",!0)]),_:1})}}});export{fe as default};
