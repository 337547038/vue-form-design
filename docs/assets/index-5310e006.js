import{_ as Fe,a as Le}from"./vueFile.vue_vue_type_script_setup_true_lang-604207ac.js";import{d as he,I as be,o as r,c as f,l as _,F as N,e as q,x as k,t as de,k as Ve,j as S,J as Re,r as te,a as le,G as Pe,h as $,f as y,w as n,m as o,L as j,M as xe,q as pe,E as Y,N as Be,O as qe,P as Ae,Q as Ue,R as ze,S as Z,U as ye,v as je,C as Ke,u as He,p as Me,b as We,D as Qe,z as Ge,V as Ne,W as ke,X as ee,Y as fe,Z as $e,$ as Te,a0 as Je}from"./index-3679850f.js";import{_ as Xe}from"./aceDrawer.vue_vue_type_script_setup_true_lang-7e84294c.js";const _e=[],ve={optionsType:0},Oe=[{title:"基础字段",children:[{type:"input",label:"单行文本",icon:"input",control:{modelValue:""},config:{}},{type:"textarea",label:"多行文本",icon:"textarea",control:{modelValue:""},config:{}},{type:"radio",label:"单选框组",icon:"radio",control:{modelValue:""},options:_e,config:ve},{type:"checkbox",label:"多选框组",icon:"checkbox",control:{modelValue:[]},options:_e,config:ve},{type:"select",label:"下拉选择框",icon:"select",control:{modelValue:"",appendToBody:!0},options:_e,config:ve},{type:"datePicker",label:"日期选择器",icon:"date",control:{modelValue:"",type:"date"},config:{}},{type:"timePicker",label:"时间选择器",icon:"time",control:{modelValue:""},config:{}},{type:"colorPicker",label:"取色器",icon:"color",control:{modelValue:""},config:{}},{type:"switch",label:"开关",icon:"switch",control:{modelValue:!1},config:{}},{type:"inputNumber",label:"计数器",icon:"number",control:{modelValue:0},config:{}},{type:"cascader",label:"级联选择器",icon:"cascader",control:{modelValue:[]},options:[],config:ve},{type:"rate",label:"评分",icon:"rate",control:{modelValue:0},config:{}},{type:"slider",label:"滑块",icon:"slider",control:{modelValue:0},config:{}},{type:"treeSelect",label:"树形控件",icon:"tree2",control:{modelValue:"",data:[],renderAfterExpand:!1},config:{optionsType:0}},{type:"txt",label:"文字",icon:"text",control:{modelValue:""},config:{}},{type:"title",label:"标题",icon:"title",control:{modelValue:"标题"},config:{}},{type:"button",label:"按钮",icon:"button",control:{label:"保存"},config:{}}]},{title:"高级字段",children:[{type:"table",label:"子表",icon:"table",list:[],tableData:[],control:{border:!0},config:{addBtnText:"添加一行"}},{type:"component",label:"自定义组件",icon:"component",control:{modelValue:""},config:{}},{type:"upload",label:"图片/文件",icon:"image",control:{modelValue:""},config:{}},{type:"tinymce",label:"tinymce富文本",icon:"tinymce",control:{modelValue:""},config:{}}]},{title:"布局字段",children:[{type:"grid",label:"格栅布局",icon:"grid",columns:[{attr:{span:12},list:[]},{attr:{span:12},list:[]}],control:{},config:{}},{type:"tabs",label:"标签页",icon:"tabs",columns:[{label:"Tab1",list:[]}],control:{},config:{}},{type:"card",label:"卡片布局",icon:"card",list:[],control:{},config:{},item:{}},{type:"flex",label:"弹性布局",icon:"flex",list:[],tableData:[],control:{},config:{addBtnText:"添加一行"}},{type:"divider",label:"分割线",icon:"divider",control:{},config:{}},{type:"div",label:"div容器",icon:"div",control:{},config:{},list:[]}]},{title:"扩展组件",children:[{type:"expand-user",label:"选择用户",icon:"user",control:{modelValue:""},config:{}}]}],Ye=""+new URL("test-c644ce60.png",import.meta.url).href,Ze=Ye,el="演示test",ll={list:[{type:"input",control:{modelValue:""},config:{},name:"input1663920706618",item:{label:"单行文本"}}],form:{size:"default"},config:{}},tl=Object.freeze(Object.defineProperty({__proto__:null,formData:ll,imgPath:Ze,title:el},Symbol.toStringTag,{value:"Module"})),al=""+new URL("test2-ab129ef2.png",import.meta.url).href,ol=al,nl="演示test2",sl={list:[{type:"input",control:{modelValue:""},config:{},name:"input",item:{label:"单行文本"}},{type:"radio",control:{modelValue:""},options:[{label:"标签1",value:"value1"},{label:"标签2",value:"value2"},{label:"标签3",value:"value3"}],config:{optionsType:0},name:"radio1667180102980",item:{label:"单选框组"}},{type:"checkbox",control:{modelValue:[]},options:[{label:"标签1",value:"value1"},{label:"标签2",value:"value2"},{label:"标签3",value:"value3"}],config:{optionsType:0},name:"checkbox1667180107698",item:{label:"多选框组",showLabel:!1}},{type:"select",control:{modelValue:"",appendToBody:!0},options:[{label:"标签1",value:"value1"},{label:"标签2",value:"value2"},{label:"标签3",value:"value3"}],config:{optionsType:0},name:"select1667180110029",item:{label:"下拉选择框"}},{type:"datePicker",control:{modelValue:"",type:"date"},config:{},name:"datePicker1667180115571",item:{label:"日期选择器"}},{type:"switch",control:{modelValue:!1},config:{},name:"switch1667180126483",item:{label:"开关"}}],form:{labelWidth:"",class:"",size:"default",name:"form1663920704871"},config:{}},rl=Object.freeze(Object.defineProperty({__proto__:null,formData:sl,imgPath:ol,title:nl},Symbol.toStringTag,{value:"Module"})),il={key:0,class:"no-date"},cl={key:1,class:"list"},ul=["onClick"],dl=["src"],pl=he({__name:"template",emits:["click"],setup(ae,{expose:J,emit:T}){const U=be({visible:!1,list:[]}),g=()=>{U.visible=!0,s()},s=()=>{const t=Object.assign({"./template/test.ts":tl,"./template/test2.ts":rl});console.log(t),U.list=[],Object.keys(t).forEach(P=>{const A=t[P];U.list.push({imgPath:A.imgPath,title:A.title,formData:A.formData})})},m=t=>{T("click",t.formData),U.visible=!1};return J({open:g}),(t,P)=>U.visible?(r(),f("div",{key:0,class:Ve(["use-template",{active:U.visible}])},[_("span",{class:"close icon-close",onClick:P[0]||(P[0]=A=>U.visible=!1)}),U.list.length===0?(r(),f("div",il,"暂无可用模板")):(r(),f("div",cl,[(r(!0),f(N,null,q(U.list,(A,X)=>(r(),f("div",{class:"item",key:X,onClick:H=>m(A)},[_("img",{src:A.imgPath,alt:""},null,8,dl),k(de(A.title),1)],8,ul))),128))]))],2)):S("",!0)}}),ml={class:"components-list"},fl={key:0},vl=_("div",{class:"title"},"快速选择表单字段",-1),bl={class:"content"},hl={class:"title"},gl=["title"],yl=he({__name:"dragControl",props:{formId:{}},emits:["clickCheck","click"],setup(ae,{emit:J}){const T=ae,U=Re("formDesignType"),g=te([]),s=["input","radio","checkbox","select","datePicker","timePicker","inputNumber","cascader","component","button"],m=le(()=>U==="search"),t=le(()=>{if(U==="search"){const C=[];return Oe.forEach(w=>{if(w.children){const D=w.children.filter(W=>s.includes(W.type));D&&D.length&&C.push({title:w.title,children:D})}}),C}else return Oe}),P=C=>xe(C);Pe(()=>T.formId,C=>{C&&m.value&&A(C)});const A=C=>{pe("designById",{id:C}).then(w=>{const D=Y(w.data.data);D&&D.list&&H(D.list)})},X=(C,w)=>{if(w){const D=xe(C);delete D.rules,delete D.customRules,J("clickCheck",D)}},H=C=>{C.forEach(w=>{w.type==="grid"||w.type==="tabs"?w.columns.forEach(D=>{H(D.list)}):w.type==="card"?H(w.list):s.includes(w.type)&&w.type!=="button"&&g.value.push(w)})},v=te(),M=()=>{v.value.open()},oe=C=>{J("click",C)};return(C,w)=>{var W;const D=$("el-checkbox");return r(),f("div",ml,[m.value&&((W=g.value)!=null&&W.length)?(r(),f("div",fl,[vl,_("div",bl,[(r(!0),f(N,null,q(g.value,B=>(r(),y(D,{key:B.name,onChange:p=>X(B,p)},{default:n(()=>{var p;return[k(de((p=B.item)==null?void 0:p.label),1)]}),_:2},1032,["onChange"]))),128))])])):S("",!0),(r(!0),f(N,null,q(t.value,(B,p)=>(r(),f("div",{key:p},[_("div",hl,[k(de(B.title)+" ",1),p===0&&!m.value?(r(),f("div",{key:0,class:"template",onClick:M}," 使用模板 ")):S("",!0)]),o(j(Be),{itemKey:"key123",tag:"ul",modelValue:B.children,"onUpdate:modelValue":d=>B.children=d,group:{name:"form",pull:"clone",put:!1},"ghost-class":"ghost",sort:!1,clone:P},{item:n(({element:d})=>[_("li",{class:Ve([d.type])},[_("i",{class:Ve(`icon-${d.icon}`)},null,2),_("span",{title:d.label},de(d.label),9,gl)],2)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128)),m.value?S("",!0):(r(),y(pl,{key:1,ref_key:"useTemplateEl",ref:v,onClick:oe},null,512))])}}}),kl={class:"sidebar-tools"},_l=_("div",{class:"h3"},[_("h3",null,"通用属性")],-1),Vl=_("div",{class:"h3"},[_("h3",null,"标签配置项")],-1),wl=["onClick"],Sl={key:2},Cl=_("div",{class:"h3"},[_("h3",null,"选项配置")],-1),Dl={key:0},xl=["onClick"],Ul=_("div",{class:"h3"},[_("h3",null,"校验设置")],-1),Nl={key:0},$l=["onClick"],Tl={key:4},Ol=_("div",{class:"h3"},[_("h3",null,"其他属性")],-1),Rl=_("div",{class:"h3"},[_("h3",null,"接口数据事件")],-1),Pl=he({__name:"formControlAttr",props:{formData:{},formConfig:{default:()=>({})},formOtherData:{default:()=>({})}},emits:["openDialog","update:formOtherData"],setup(ae,{expose:J,emit:T}){const U=ae,{formConfig:g,formData:s}=qe(U),m=Ae(),t=le(()=>m.controlAttr),P=te([]),A=le(()=>{var l;const a=v.isSearch;return[{label:"表单名称",placeholder:"用于保存的表单名称",value:U.formOtherData.formName,key:"formName",hide:a},{label:"数据源",placeholder:"请选择数据源",value:ye(U.formOtherData.source),type:"select",options:P.value,key:"source",hide:a||!((l=P.value)!=null&&l.length),clearable:!0},{label:"表单标识",value:s.value.name,placeholder:"表单唯一标识，可为空",key:"name",hide:a},{label:"表单标签宽度",value:s.value.labelWidth,placeholder:"表单label宽，如180px",key:"labelWidth"},{label:"表单样式名称",value:s.value.class,placeholder:"额外添加的表单class类名",key:"class",type:"select",options:[{label:"无样式",value:""},{label:"每行两列",value:"form-row-2"},{label:"每行三列",value:"form-row-3"},{label:"每行四列",value:"form-row-4"}],hide:a,clearable:!0},{label:"字段名后添加冒号",value:s.value.showColon,key:"showColon",type:"switch"},{label:"组件尺寸",value:s.value.size,type:"select",key:"size",options:[{label:"large",value:"large"},{label:"default",value:"default"},{label:"small",value:"small"}]}]}),X=le(()=>{if(Object.keys(t.value).length){const{control:a={},type:l,name:c,config:u={},item:V={},attr:b={}}=t.value;let h=!1;if(l==="table"){const R=t.value&&t.value.list;R&&R.length>0&&(h=R[0].type==="index")}return[{label:"自定义Class",value:u.className,placeholder:"样式类名",path:"config.className"},{label:"字段标识",value:c,type:Object.keys(v.dataSourceList).length>0?"select":"text",placeholder:"字段唯一标识，对应数据库",dict:v.dataSourceList,path:"name",vHide:["grid","tabs","card","title","gridChild","tableColumn","divider","txt","div","button"],eventName:"filedNameKey"},{label:"占位内容",value:a.placeholder,placeholder:"placeholder",path:"control.placeholder",vShow:["password","input","textarea","select","date","number","datePicker","tinymce","timePicker","treeSelect"]},{label:"按钮类型",value:a.type,path:"control.type",type:"select",dict:{primary:"primary",success:"success",info:"info",warning:"warning",danger:"danger"},vShow:["button"],clearable:!0},{label:"按钮名称",value:a.label,path:"control.label",vShow:["button"]},{label:"按钮事件",value:a.key,path:"control.key",type:"select",dict:{submit:"提交表单",reset:"重置表单",cancel:"取消返回",none:"无动作(自定义)"},vShow:["button"]},{label:"对齐方式",value:u.textAlign,path:"config.textAlign",type:"select",dict:{left:"left",right:"right",center:"center"},vShow:["button","div"]},{label:"label值",value:V.label,path:"item.label",vHide:["table","grid","tabs","title","gridChild","div","inputSlot","flex","button","txt"]},{label:"隐藏label",value:V.showLabel,path:"item.showLabel",type:"switch",vHide:["table","grid","tabs","title","gridChild","divider","card","div","inputSlot","flex","button","txt"]},{label:"帮助信息",value:u.help,path:"config.help",vHide:["table","grid","tabs","gridChild","divider","div","inputSlot","flex","button","txt"]},{label:"表单栅格",value:u.span,placeholder:"表单区域栅格宽，0为自动宽",path:"config.span",vHide:["gridChild"],isNum:!0},{label:"文本值",value:a.modelValue,placeholder:"支持html",path:"control.modelValue",vShow:["txt"],inputStyle:"textarea"},{label:"设为密码",value:l,type:"select",dict:{input:"文本",password:"密码"},path:"type",vShow:["input","password"],vIf:v.isSearch},{label:"文本域高度",value:a.rows,placeholder:"输入框行数",path:"control.rows",vShow:["textarea"],isNum:!0},{label:"前缀",value:u.prepend,placeholder:"文本前缀",path:"config.prepend",vShow:["input","password"]},{label:"后缀",value:u.append,placeholder:"文本后缀",path:"config.append",vShow:["input","password"]},{label:"状态打开时的值",value:a.activeValue,placeholder:"状态打开时的值",path:"control.activeValue",vShow:["switch"],isNum:!0},{label:"状态关闭时的值",value:a.inactiveValue,placeholder:"状态关闭时的值",path:"control.inactiveValue",vShow:["switch"],isNum:!0},{label:"增加按钮文案",value:u.addBtnText,path:"config.addBtnText",type:"text",vShow:["flex","table"]},{label:"删除按钮文案",value:u.delBtnText,path:"config.delBtnText",type:"text",vShow:["flex","table"]},{label:"是否多选",value:a.multiple,path:"control.multiple",type:"switch",vShow:["select","treeSelect"],eventName:"selectMultiple"},{label:"可清空",value:a.clearable,path:"control.clearable",type:"switch",vShow:["select"]},{label:"是否禁用",value:a.disabled,path:"control.disabled",type:"switch",vShow:["input","password","textarea","radio","checkbox","select","date","switch","number","cascader","upload","rate","tinymce","treeSelect"],vIf:v.isSearch},{label:"是否禁用编辑",value:u.editDisabled,path:"config.editDisabled",type:"switch",vShow:["input","password","textarea","radio","checkbox","select","date","switch","number","cascader","upload","treeSelect","table","flex"],vIf:v.isSearch},{label:"添加页隐藏",value:u.disabledAdd,path:"config.disabledAdd",type:"switch",vIf:v.isSearch,vHide:["inputSlot"]},{label:"编辑页隐藏",value:u.disabledEdit,path:"config.disabledEdit",type:"switch",vIf:v.isSearch,vHide:["inputSlot"]},{label:"详情页隐藏",value:u.disabledDetail,path:"config.disabledDetail",type:"switch",vIf:v.isSearch,vHide:["inputSlot"]},{label:"设为Input输入框的前/后缀",value:l==="inputSlot",path:"",type:"switch",vShow:["select","inputSlot"],eventName:"setInputSlot"},{label:"标题",value:a.modelValue,path:"control.modelValue",vShow:["title"]},{label:"占据的列数span",value:b.span,path:"attr.span",vShow:["gridChild"],eventName:"formatNumber",isNum:!0},{label:"左侧的间隔格数offset",value:b.offset,path:"attr.offset",vShow:["gridChild"],eventName:"formatNumber",isNum:!0},{label:"向右移动格数push",value:b.push,path:"attr.push",vShow:["gridChild"],eventName:"formatNumber",isNum:!0},{label:"向左移动格数pull",value:b.pull,path:"attr.pull",vShow:["gridChild"],eventName:"formatNumber",isNum:!0},{label:"序号列",value:h,type:"switch",vShow:["table"],eventName:"tableColumn1"},{label:"组件名",value:u.componentName,placeholder:"全局注册的组件名称",path:"config.componentName",vShow:["component"]},{label:"上传地址",value:a.action,placeholder:"图片/文件上传地址,可不填有默认值",path:"control.action",vShow:["upload"]},{label:"文件字段名",value:a.name,placeholder:"上传的文件字段名,默认file",path:"control.name",vShow:["upload"]},{label:"列表类型",value:a.listType,type:"select",dict:{text:"text",picture:"picture","picture-card":"picture-card"},path:"control.listType",vShow:["upload"]},{label:"提示文字",value:u.tip,placeholder:"提示说明文字",path:"config.tip",vShow:["upload"]},{label:"按钮文本",value:u.btnText,placeholder:"上传按钮文本",path:"config.btnText",vShow:["upload"]},{label:"direction",type:"select",dict:{horizontal:"horizontal",vertical:"vertical"},placeholder:"分割线方向，默认horizontal",value:a.direction,path:"control.direction",vShow:["divider"]},{label:"border-style",placeholder:"分隔符样式，默认solid",value:a.borderStyle,path:"control.borderStyle",vShow:["divider"]},{label:"content-position",type:"select",dict:{left:"left",right:"right",center:"center"},value:a.contentPosition,path:"control.contentPosition",vShow:["divider"]},{label:"最小值",value:a.min,path:"control.min",vShow:["slider"],eventName:"formatNumber",isNum:!0},{label:"最大值",value:a.max,path:"control.max",vShow:["rate","slider"],eventName:"formatNumber",isNum:!0},{label:"步长",value:a.step,path:"control.step",vShow:["slider"],eventName:"formatNumber",isNum:!0},{label:"type",value:a.type,path:"control.type",vShow:["datePicker"],type:"select",placeholder:"显示类型",dict:{year:"year",month:"month",date:"date",datetime:"datetime",week:"week",datetimerange:"datetimerange",daterange:"daterange",monthrange:"monthrange"}},{label:"format",value:a.format,path:"control.format",vShow:["datePicker","timePicker"],placeholder:"显示在输入框中的格式"},{label:"color-format",value:a.colorFormat,path:"control.colorFormat",type:"select",placeholder:"写入 v-model 的颜色的格式",dict:{hsl:"hsl",hsv:"hsv",hex:"hex",rgb:"rgb"},vShow:["colorPicker"]},{label:"文本高度",value:a.height,path:"control.height",placeholder:"文本高度(预览查看效果)",vShow:["tinymce"]},{label:"文本宽度",value:a.width,path:"control.width",placeholder:"文本宽度(预览查看效果)",vShow:["tinymce"]},{label:"图片上传地址",value:a.imgUrl,path:"control.imgUrl",placeholder:"图片上传地址",vShow:["tinymce"]},{label:"附件上传地址",value:a.blobUrl,path:"control.blobUrl",placeholder:"附件上传地址",vShow:["tinymce"]},{label:"显示模式",value:u.style,path:"config.style",placeholder:"显示风格(预览查看效果)",type:"select",dict:{default:"default",simple:"simple"},vShow:["tinymce"]}].filter(R=>{let z=!0;return R.vShow&&(z=R.vShow.includes(l)),R.vHide&&(z=!R.vHide.includes(l)),R.vIf&&(z=!1),z})}else return[]}),H=Re("formDesignType"),v=be({dataSourceList:{},customRulesList:[...Ue,{type:"rules",label:"自定义正则"},{type:"methods",label:"自定义方法"}],isSearch:H==="search",tooltip:{css:"当前表单应用页的样式，类似于.vue文件中的style scoped中的样式",dict:'数据字典，用于匹配多选组、下拉选择等，提供动态获取Options接口字典数据，一般不设置，从接口dict获取。json格式："sex":{"0":"男","1":"女"}',rules:"可参考UI组件表单校验，<a href='https://element-plus.gitee.io/zh-CN/component/form.html#%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C' target='_blank' style='color:red'>详情点击</a>",props:"可添加当前组件所有prop属性及事件方法"},tabsName:"second"});Pe(()=>m.activeKey,a=>{a&&(v.tabsName="first")});const M=(a,l)=>{switch(a.eventName){case"selectMultiple":l?t.value.control.modelValue=[]:t.value.control.modelValue="";break;case"tableColumn1":d(l);break;case"formatNumber":break;case"filedNameKey":a.type==="select"&&v.dataSourceList.forEach(c=>{c.name===l&&(t.value.item&&(t.value.item.label=c.label),t.value.name=c.label)});break;case"setInputSlot":l?(t.value.type="inputSlot",Z.success(`请在对应的Input输入框属性前后缀设置key:${t.value.name}`)):t.value.type="select";break}if(a.path){const c=a.isNum?ye(l):l;a.path&&oe(t.value,a.path,c)}},oe=(a,l,c)=>{let u=a;const V=l.split(".");let b=0;for(b;b<V.length-1;b++){const R=V[b];if(R in u)u=u[R];else throw new Error(`${R} is undefined`)}const h=V[b],re=u[V[b]];return c!==void 0&&(u[h]=c),{obj:u,key:h,value:re}},C=(a,l)=>{l==="tabs"?t.value.columns.splice(a,1):t.value.options.splice(a,1)},w=a=>{t.value.type==="cascader"?D("cascader"):t.value.type==="treeSelect"?D("treeSelect","编辑组件下拉选项数据"):a==="tabs"?t.value.columns.push({label:"标签名称",list:[]}):t.value.options.push({label:"",value:""})},D=(a,l)=>{let c=t.value.control;switch(t.value.type==="button"&&(c=t.value.config,a="button"),a){case"treeSelect":c=t.value.control.data;break;case"cascader":c=t.value.options;break;case"optionsParams":c=t.value.config.beforeRequest;break;case"optionsResult":c=t.value.config.afterResponse;break}T("openDialog",{content:c,title:l,type:a,direction:"ltr",callback:V=>{switch(a){case"treeSelect":t.value.control.data=V;break;case"cascader":t.value.options=V;break;case"optionsParams":t.value.config.beforeRequest=V;break;case"optionsResult":t.value.config.afterResponse=V;break;case"button":t.value.config=V;break;default:t.value.control={},Object.assign(t.value.control,V)}}})},W=a=>{var l;(l=t.value.item)!=null&&l.rules||(t.value.item.rules=[]),a?t.value.item.rules.push({required:!0,message:"必填项",trigger:"change"}):t.value.item.rules.splice(0,1)},B=a=>{var c,u;(c=t.value.item)!=null&&c.rules||(t.value.item.rules=[]);const l={content:(u=t.value.item)==null?void 0:u.rules,title:a,direction:"ltr",callback:V=>{Object.assign(t.value.item.rules,V)}};T("openDialog",l)},p=(a,l)=>{if(a&&a.length===0||Object.keys(t.value).length===0)return!1;const c=a.indexOf(t.value.type);return l?c!==-1:c===-1},d=a=>{const l={name:"index",type:"index",item:{label:"序号"},control:{},config:{}};a?t.value.list.unshift(l):t.value.list.splice(0,1)},x=le(()=>{var l;const a=t.value&&((l=t.value.item)==null?void 0:l.rules);return a&&a.length>0}),L=()=>{t.value.customRules||(t.value.customRules=[]),t.value.customRules.push({type:"required",message:"必填项",trigger:"blur"})},K=a=>{t.value.customRules&&t.value.customRules.splice(a,1)},I=a=>{T("openDialog",{codeType:"css",direction:"ltr",type:"css",title:a})},Q=a=>{T("openDialog",{type:"dict",direction:"ltr",codeType:"json",title:a})},O=a=>{if(v.isSearch)return;const l=a;l&&pe("sourceById",{id:l}).then(c=>{var V;const u=(V=c.data.result)==null?void 0:V.tableData;u&&u.length&&(v.dataSourceList=u.filter(b=>b.enterable))}).catch(c=>{console.log(c)})},ne=()=>{v.isSearch||pe("sourceList").then(a=>{P.value=a.data.list})},G=(a,l)=>{if(a.key==="source"&&(O(a.value),m.setActiveKey(""),m.setControlAttr({})),["formName","source"].includes(a.key)){T("update:formOtherData",Object.assign(U.formOtherData,{[a.key]:a.value}));return}a.path==="config"?g.value[a.key]=a.value||l:s.value[a.key]=a.value},ge=a=>{switch(a){case 1:return"数据源接口URL,可带参数";case 2:return"字典key，默认为字段标识"}return""},me=(a,l)=>{const c=Ue.filter(u=>u.type===l);c&&c.length&&(a.message=c[0].message)},we=(a,l)=>{D(a,l)},se=(a,l)=>{T("openDialog",{type:a,title:l,direction:"ltr"})};return ne(),J({getFormFieldBySource:O}),(a,l)=>{const c=$("el-option"),u=$("el-select"),V=$("el-switch"),b=$("el-input"),h=$("el-form-item"),re=$("el-radio"),R=$("el-radio-group"),z=$("el-col"),E=$("el-button"),ie=$("QuestionFilled"),ce=$("el-icon"),ue=$("el-tooltip"),Ie=$("el-checkbox"),Se=$("el-form"),Ce=$("el-tab-pane"),Ee=$("el-tabs");return r(),f("div",kl,[o(Ee,{modelValue:v.tabsName,"onUpdate:modelValue":l[29]||(l[29]=e=>v.tabsName=e)},{default:n(()=>[o(Ce,{label:"字段配置",name:"first"},{default:n(()=>[o(Se,{size:"small",class:"form"},{default:n(()=>[_l,(r(!0),f(N,null,q(X.value,(e,F)=>(r(),y(h,{key:F,label:e.label},{default:n(()=>[e.type==="select"?(r(),y(u,{key:0,placeholder:e.placeholder,modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,filterable:e.path==="name","allow-create":e.path==="name",clearable:e.clearable,onChange:i=>M(e,i)},{default:n(()=>[(r(!0),f(N,null,q(e.dict,(i,De)=>(r(),y(c,{key:De,value:e.path==="name"?i.name:De,label:e.path==="name"?`${i.label}(${i.name})`:i},null,8,["value","label"]))),128))]),_:2},1032,["placeholder","modelValue","onUpdate:modelValue","filterable","allow-create","clearable","onChange"])):e.type==="switch"?(r(),y(V,{key:1,modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,onChange:i=>M(e,i)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(r(),y(b,{key:2,type:e.inputStyle,modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,placeholder:e.placeholder,onInput:i=>M(e,i)},null,8,["type","modelValue","onUpdate:modelValue","placeholder","onInput"]))]),_:2},1032,["label"]))),128)),t.value.config?(r(),f(N,{key:0},[o(h,{label:"联动条件"},{default:n(()=>[o(V,{modelValue:t.value.config.linkKey,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.config.linkKey=e)},null,8,["modelValue"])]),_:1}),t.value.config.linkKey?(r(),f(N,{key:0},[o(h,null,{default:n(()=>[o(b,{type:"textarea",modelValue:t.value.config.linkValue,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.config.linkValue=e),placeholder:"表达式如: $.input>1 $表示为当前表单数据，input为字段标识"},null,8,["modelValue"])]),_:1}),p(["input","textarea","radio","checkbox","select","date","switch","number","cascader","slider","datePicker","timePicker","colorPicker","inputNumber","rate","treeSelect"],!0)?(r(),y(h,{key:0,label:"联动结果"},{default:n(()=>[o(R,{class:"option-radio",modelValue:t.value.config.linkResult,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.config.linkResult=e)},{default:n(()=>[o(re,{label:"hidden"},{default:n(()=>[k("隐藏(默认)")]),_:1}),o(re,{label:"disabled"},{default:n(()=>[k("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1})):S("",!0)],64)):S("",!0)],64)):S("",!0),p(["tabs"],!0)?(r(),f(N,{key:1},[Vl,(r(!0),f(N,null,q(t.value.columns,(e,F)=>(r(),y(h,{key:F},{default:n(()=>[o(z,{span:12},{default:n(()=>[o(b,{placeholder:"标签配置项",modelValue:e.label,"onUpdate:modelValue":i=>e.label=i},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(z,{span:2,offset:1},{default:n(()=>[_("i",{class:"icon-del",onClick:i=>C(F,"tabs")},null,8,wl)]),_:2},1024)]),_:2},1024))),128)),o(h,null,{default:n(()=>[o(E,{onClick:l[3]||(l[3]=e=>w("tabs"))},{default:n(()=>[k("增加标签")]),_:1})]),_:1})],64)):S("",!0),p(["radio","select","checkbox","cascader","inputSlot","treeSelect"],!0)?(r(),f("div",Sl,[Cl,p(["select"],!0)?(r(),y(h,{key:0,label:"添加全部项"},{default:n(()=>[o(b,{placeholder:"请输入全部项文案",modelValue:t.value.config.addAll,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.config.addAll=e)},null,8,["modelValue"])]),_:1})):S("",!0),o(h,{label:"选项数据源"},{default:n(()=>[o(u,{modelValue:t.value.config.optionsType,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.config.optionsType=e),onChange:l[6]||(l[6]=e=>t.value.config.optionsFun="")},{default:n(()=>[o(c,{value:0,label:"固定选项"}),o(c,{value:1,label:"数据源"}),o(c,{value:2,label:"接口字典"})]),_:1},8,["modelValue"])]),_:1}),t.value.config.optionsType===0?(r(),f(N,{key:1},[t.value.type!=="cascader"?(r(),f("div",Dl,[(r(!0),f(N,null,q(t.value.options,(e,F)=>(r(),y(h,{key:F},{default:n(()=>[o(z,{span:10},{default:n(()=>[o(b,{placeholder:"选项标签",modelValue:e.label,"onUpdate:modelValue":i=>e.label=i},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(z,{span:10,offset:1},{default:n(()=>[o(b,{placeholder:"选项值",modelValue:e.value,"onUpdate:modelValue":i=>e.value=i},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(z,{span:2,offset:1},{default:n(()=>[_("i",{class:"icon-del",onClick:i=>C(F)},null,8,xl)]),_:2},1024)]),_:2},1024))),128))])):S("",!0),o(h,null,{default:n(()=>[o(E,{onClick:w},{default:n(()=>[k(de(t.value.type==="cascader"?"编辑":"新增"),1)]),_:1})]),_:1})],64)):(r(),f(N,{key:2},[o(h,null,{default:n(()=>[o(b,{modelValue:t.value.config.optionsFun,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.config.optionsFun=e),placeholder:ge(t.value.config.optionsType)},ze({_:2},[t.value.config.optionsType===1?{name:"prepend",fn:n(()=>[o(u,{modelValue:t.value.config.method,"onUpdate:modelValue":l[7]||(l[7]=e=>t.value.config.method=e),style:{width:"80px"}},{default:n(()=>[o(c,{label:"get",value:"get"}),o(c,{label:"post",value:"post"})]),_:1},8,["modelValue"])]),key:"0"}:void 0]),1032,["modelValue","placeholder"])]),_:1}),t.value.config.optionsType===1?(r(),f(N,{key:0},[o(h,{label:"指定label属性值"},{default:n(()=>[o(b,{modelValue:t.value.config.label,"onUpdate:modelValue":l[9]||(l[9]=e=>t.value.config.label=e),placeholder:"返回数据中没有label时可设置"},null,8,["modelValue"])]),_:1}),o(h,{label:"指定value属性值"},{default:n(()=>[o(b,{modelValue:t.value.config.value,"onUpdate:modelValue":l[10]||(l[10]=e=>t.value.config.value=e),placeholder:"返回数据中没有value时可设置"},null,8,["modelValue"])]),_:1})],64)):S("",!0),t.value.config.optionsType===1?(r(),y(h,{key:1},{default:n(()=>[o(E,{onClick:l[11]||(l[11]=e=>we("optionsParams","请求前处理事件，参数(data,route,form) data请求参数,route页面路由,form表单值"))},{default:n(()=>[k("beforeRequest ")]),_:1}),o(E,{onClick:l[12]||(l[12]=e=>we("optionsResult","请求返回结束处理；，也可为字符串，如opt=formatTest"))},{default:n(()=>[k("afterResponse ")]),_:1})]),_:1})):S("",!0)],64)),o(h,{label:"尝试转换value值为"},{default:n(()=>[o(u,{modelValue:t.value.config.transformData,"onUpdate:modelValue":l[13]||(l[13]=e=>t.value.config.transformData=e),placeholder:"默认为number"},{default:n(()=>[o(c,{value:"none"},{default:n(()=>[k("不转换")]),_:1}),o(c,{value:"number"},{default:n(()=>[k("number")]),_:1}),o(c,{value:"string"},{default:n(()=>[k("string")]),_:1})]),_:1},8,["modelValue"])]),_:1})])):S("",!0),!v.isSearch&&p(["txt","title","table","grid","tabs","card","switch","gridChild","tableColumn","divider","div","button"])?(r(),f(N,{key:3},[Ul,p(["input","password","component"],!0)?(r(),f("div",Nl,[(r(!0),f(N,null,q(t.value.customRules,(e,F)=>(r(),y(h,{key:e.type},{default:n(()=>[o(b,{modelValue:e.message,"onUpdate:modelValue":i=>e.message=i,placeholder:"校验提示信息"},{prepend:n(()=>[o(u,{modelValue:e.type,"onUpdate:modelValue":i=>e.type=i,style:{width:"80px"},onChange:i=>me(e,i)},{default:n(()=>[(r(!0),f(N,null,q(v.customRulesList,i=>(r(),y(c,{key:i.type,label:i.label,value:i.type},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),append:n(()=>[_("i",{class:"icon-del",onClick:i=>K(F)},null,8,$l)]),_:2},1032,["modelValue","onUpdate:modelValue"]),e.type==="rules"?(r(),y(b,{key:0,placeholder:"正则表达式",modelValue:e.rules,"onUpdate:modelValue":i=>e.rules=i},null,8,["modelValue","onUpdate:modelValue"])):S("",!0),e.type==="methods"?(r(),y(b,{key:1,placeholder:"方法名称，此方法仅适用于导出vue文件",modelValue:e.methods,"onUpdate:modelValue":i=>e.methods=i},null,8,["modelValue","onUpdate:modelValue"])):S("",!0)]),_:2},1024))),128)),o(h,null,{default:n(()=>[o(E,{onClick:L},{default:n(()=>[k("快速添加")]),_:1}),o(E,{onClick:l[14]||(l[14]=e=>B(v.tooltip.rules))},{default:n(()=>[k("编写校验规则 "),o(ue,{content:v.tooltip.rules,placement:"top","raw-content":""},{default:n(()=>[o(ce,null,{default:n(()=>[o(ie)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})])):(r(),y(h,{key:1},{default:n(()=>{var e,F;return[o(Ie,{modelValue:x.value,onChange:W},{default:n(()=>[k("必填 ")]),_:1},8,["modelValue"]),(e=t.value.item)!=null&&e.rules&&((F=t.value.item)!=null&&F.rules[0])?(r(),y(b,{key:0,placeholder:"自定义必填错误提示",modelValue:t.value.item.rules[0].message,"onUpdate:modelValue":l[15]||(l[15]=i=>t.value.item.rules[0].message=i)},null,8,["modelValue"])):S("",!0)]}),_:1}))],64)):S("",!0),p(["grid","card","gridChild","divider","div"])?(r(),f("div",Tl,[Ol,o(E,{size:"small",onClick:l[16]||(l[16]=e=>D("",v.tooltip.props))},{default:n(()=>[k("编辑属性 "),o(ue,{content:v.tooltip.props,placement:"top"},{default:n(()=>[o(ce,null,{default:n(()=>[o(ie)]),_:1})]),_:1},8,["content"])]),_:1})])):S("",!0)]),_:1})]),_:1}),o(Ce,{label:"表单配置",name:"second"},{default:n(()=>[o(Se,{size:"small",class:"form"},{default:n(()=>[(r(!0),f(N,null,q(A.value.filter(e=>!e.hide),(e,F)=>(r(),y(h,{label:e.label,key:F},{default:n(()=>[e.type==="select"?(r(),y(u,{key:0,modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,filterable:e.key==="class","allow-create":e.key==="class",placeholder:e.placeholder,clearable:e.clearable,onChange:i=>G(e)},{default:n(()=>[(r(!0),f(N,null,q(e.options,i=>(r(),y(c,{label:i.label||i.name,key:i.label||i.name,value:j(ye)(i.value??i.id)},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","filterable","allow-create","placeholder","clearable","onChange"])):e.type==="switch"?(r(),y(V,{key:1,modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,onInput:i=>G(e)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(r(),y(b,{key:2,modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,placeholder:e.placeholder,onInput:i=>G(e)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"]))]),_:2},1032,["label"]))),128)),v.isSearch?S("",!0):(r(),y(h,{key:0},{label:n(()=>[k("添加时获取请求 "),o(ue,{content:"新增表单数据时，从接口获取新增初始数据",placement:"top"},{default:n(()=>[o(ce,null,{default:n(()=>[o(ie)]),_:1})]),_:1})]),default:n(()=>[o(V,{modelValue:j(g).addLoad,"onUpdate:modelValue":l[17]||(l[17]=e=>j(g).addLoad=e),onChange:l[18]||(l[18]=e=>G({key:"addLoad",path:"config"},e))},null,8,["modelValue"])]),_:1})),o(h,null,{default:n(()=>[o(E,{onClick:l[19]||(l[19]=e=>I(v.tooltip.css))},{default:n(()=>[k("编辑表单样式 "),o(ue,{content:v.tooltip.css,placement:"top"},{default:n(()=>[o(ce,null,{default:n(()=>[o(ie)]),_:1})]),_:1},8,["content"])]),_:1}),o(E,{onClick:l[20]||(l[20]=e=>Q(v.tooltip.dict))},{default:n(()=>[k("设置数据字典 "),o(ue,{content:v.tooltip.dict,placement:"top"},{default:n(()=>[o(ce,null,{default:n(()=>[o(ie)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),v.isSearch?S("",!0):(r(),f(N,{key:1},[Rl,o(h,{label:"新增数据保存url"},{default:n(()=>[o(b,{placeholder:"表单提交的url，非特殊不需要设置",modelValue:j(g).addUrl,"onUpdate:modelValue":l[21]||(l[21]=e=>j(g).addUrl=e)},null,8,["modelValue"])]),_:1}),o(h,{label:"修改数据保存url"},{default:n(()=>[o(b,{placeholder:"修改提交的url，非特殊不需要设置",modelValue:j(g).editUrl,"onUpdate:modelValue":l[22]||(l[22]=e=>j(g).editUrl=e)},null,8,["modelValue"])]),_:1}),o(h,{label:"获取表单数据url"},{default:n(()=>[o(b,{placeholder:"获取表单数据url，非特殊不需要设置",modelValue:j(g).requestUrl,"onUpdate:modelValue":l[23]||(l[23]=e=>j(g).requestUrl=e)},null,8,["modelValue"])]),_:1}),o(h,{class:"event-btn"},{default:n(()=>[o(E,{onClick:l[24]||(l[24]=e=>se("beforeRequest","获取表单初始数据前事件，可修改请求参数"))},{default:n(()=>[k("beforeRequest ")]),_:1}),o(E,{onClick:l[25]||(l[25]=e=>se("afterResponse","获取表单初始数据后事件，可对请求返回数据进行处理；也可为字符串，如opt=formatTest"))},{default:n(()=>[k("afterResponse ")]),_:1}),o(E,{onClick:l[26]||(l[26]=e=>se("beforeSubmit","表单数据提交前事件，可对提交数据进行处理；也可为字符串，如opt=formatTest"))},{default:n(()=>[k("beforeSubmit ")]),_:1}),o(E,{onClick:l[27]||(l[27]=e=>se("afterSubmit","表单数据提交成功事件"))},{default:n(()=>[k("afterSubmit ")]),_:1}),o(E,{onClick:l[28]||(l[28]=e=>se("change","表单组件值改变事件。当表单某值改变时，可修改其他组件的值；也可为字符串，如opt=formChange,字符串即为/utils/formChangeValue(name,model,key)中的key值"))},{default:n(()=>[k("表单组件改变事件change ")]),_:1})]),_:1})],64))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Al={class:"design-container"},Il={class:"main-body"},El={class:"main-form"},Fl={key:0,class:"empty-tips"},Ll={class:"dialog-footer"},jl=he({__name:"index",setup(ae){je().changeBreadcrumb([{label:"系统工具"},{label:"表单设计"}]);const T=Ae(),U=Ke(),g=He().query||{},s=be({formData:{list:[],form:{size:"default"},config:{}},editor:{},loading:!1,formDataPreview:{},previewVisible:!1,designType:g.type,formDict:{},formOtherData:{source:g.source||"",formName:"未命名表单"}}),m=be({visible:!1,type:"",title:"",codeType:"",direction:void 0,callback:""}),t=te(),P=te();Me("formDesignType",s.designType);const A=()=>{const p=g.id;p&&(s.loading=!0,pe("designById",{id:p}).then(d=>{const x=d.data;x.data&&(s.formData=Y(x.data)),s.formDict=ke(x.dict),s.formOtherData.source=x.source,s.formOtherData.formName=x.name,x.source&&s.designType!=="search"&&P.value.getFormFieldBySource(x.source),s.loading=!1}).catch(d=>{Z.error(d.message||"加载异常"),s.loading=!1}))},X=p=>{switch(p){case"del":s.formData.list=[],T.setActiveKey(""),T.setControlAttr({});break;case"eye":T.setActiveKey(""),T.setControlAttr({}),s.previewVisible=!0;let d=ee(s.formData);const x=s.formData.form.name,L=new RegExp(`get${x}ControlByName`,"g");d=d.replace(L,`getPreview${x}ControlByName`),s.formDataPreview=Y(d),s.formDataPreview.form.name=`Preview${x}`;break;case"json":M({direction:"rtl",content:s.formData,title:"可编辑修改或将已生成的脚本粘贴进来"});break;case"save":v();break;case"vue":t.value.open(s.formData);break}},H=p=>{try{if(typeof m.callback=="function"){const d=m.codeType==="json"?ke(p):Y(p);m.callback(d)}else switch(m.type){case"css":s.formData.config||(s.formData.config={}),s.formData.config.style=p;break;case"dict":s.formDict=ke(p);break;case"beforeRequest":case"beforeSubmit":case"afterResponse":case"afterSubmit":case"change":s.formData.events||(s.formData.events={}),s.formData.events[m.type]=Y(p);break;default:s.formData=Y(p)}C()}catch{}},v=()=>{const{addUrl:p,editUrl:d,requestUrl:x}=s.formData.config;if(!s.formOtherData.source&&(!p||!d||!x)&&s.designType!=="search"){Z.error("请选择数据源或配置接口url地址，否则表单无法提交保存");return}let L={data:ee(s.formData),source:s.formOtherData.source,name:s.formOtherData.formName,type:1,dict:fe(s.formDict)},K="designSave";g.id&&(Object.assign(L,{id:g.id}),K="designEdit"),s.designType==="search"&&(L={data:ee(s.formData),dict:fe(s.formDict),id:g.id}),s.loading=!0,pe(K,L).then(I=>{Z({message:I.message||"保存成功！",type:"success"});const Q=g.redirect||"/design/form/list",O={};g.redirect&&g.redirect.indexOf("?")!==-1&&g.redirect.split("?")[1].split("&").forEach(ge=>{const me=ge.split("=");O[me[0]]=me[1]}),U.push({path:Q,query:O}),s.loading=!1}).catch(I=>{Z.error(I.message||"保存异常"),s.loading=!1}),g.id||window.sessionStorage.removeItem("formMenuList"),T.setActiveKey(""),T.setControlAttr({})},M=p=>{var ne;const{type:d,direction:x,codeType:L,title:K,callback:I,content:Q}=p;m.direction=x,m.type=d,m.codeType=L||"",m.title=K?`提示：${K}`:"",m.visible=!0,m.callback=I;let O=L==="json"?fe(Q,!0):ee(Q,!0);switch(d){case"css":O=((ne=s.formData.config)==null?void 0:ne.style)||"";break;case"dict":O=fe(s.formDict,!0);break;case"beforeRequest":case"beforeSubmit":case"afterResponse":case"afterSubmit":case"change":const G=s.formData.events||{};G[d]?O=ee(G[d],!0):["afterResponse","afterSubmit"].includes(d)?O=$e:d==="change"?O=Je:O=Te;break;case"optionsParams":Q||(O=Te);break;case"optionsResult":Q||(O=$e);break}m.content=O},oe=()=>{C()},C=()=>{m.visible=!1,m.type="",m.title="",m.codeType="",m.callback="",m.content=""},w=te(),D=()=>{w.value.validate((p,d)=>{if(p)Z.success("校验通过"),console.log(d);else return Z.error("校验不通过"),!1})},W=p=>{s.formData=Y(ee(p))},B=p=>{s.formData.list.push(p)};return A(),We(()=>{g.source&&P.value.getFormFieldBySource(g.source)}),(p,d)=>{const x=$("el-button"),L=$("el-dialog"),K=Qe("loading");return r(),f("div",Al,[o(yl,{formId:s.formOtherData.source,onClickCheck:B,onClick:W},null,8,["formId"]),_("div",Il,[o(Fe,{onClick:X}),Ge((r(),f("div",El,[s.formData.list.length===0?(r(),f("div",Fl," 从左侧拖拽来添加字段 ")):S("",!0),o(Ne,{type:5,formData:s.formData,dict:s.formDict},null,8,["formData","dict"])])),[[K,s.loading]])]),o(Pl,{ref_key:"formControlAttrEl",ref:P,formData:s.formData.form,formConfig:s.formData.config,formOtherData:s.formOtherData,"onUpdate:formOtherData":d[0]||(d[0]=I=>s.formOtherData=I),onOpenDialog:M},null,8,["formData","formConfig","formOtherData"]),o(Xe,{modelValue:m.visible,"onUpdate:modelValue":d[1]||(d[1]=I=>m.visible=I),title:m.title,direction:m.direction,content:m.content,"code-type":m.codeType,onBeforeClose:oe,onConfirm:H},null,8,["modelValue","title","direction","content","code-type"]),["search"].includes(s.designType)?S("",!0):(r(),y(Le,{key:0,ref_key:"vueFileEl",ref:t},null,512)),o(L,{modelValue:s.previewVisible,"onUpdate:modelValue":d[3]||(d[3]=I=>s.previewVisible=I),title:"预览",fullscreen:!0},{footer:n(()=>[_("div",Ll,[o(x,{size:"small",type:"primary",onClick:D},{default:n(()=>[k(" 提交 ")]),_:1}),o(x,{size:"small",onClick:d[2]||(d[2]=I=>s.previewVisible=!1)},{default:n(()=>[k(" 取消 ")]),_:1})])]),default:n(()=>[s.previewVisible?(r(),y(Ne,{key:0,"form-data":s.formDataPreview,dict:s.formDict,type:1,ref_key:"previewForm",ref:w},null,8,["form-data","dict"])):S("",!0)]),_:1},8,["modelValue"])])}}});export{jl as default};
