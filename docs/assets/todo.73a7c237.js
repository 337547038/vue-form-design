import{f as V,B as S,r as s,a as u,E as $,b as p,h as x,w as a,l as e,e as t,v as j,d as I,s as i,n as E,m as k,G as w,t as A,j as G}from"./index.2b72f3d0.js";const R={class:"flow-detail-drawer"},H={class:"header"},J=e("div",{class:"face"},[e("i",{class:"icon-user"})],-1),K=e("div",{class:"name"},"\u5F20\u4E09\u603B",-1),M=i("\u603B\u88C1\u52A9\u7406\u5BA1\u6279\u4E2D"),P={class:"button"},Q=i("\u540C\u610F"),W=i("\u62D2\u7EDD"),X=i("\u6D41\u8F6C"),Y={class:"form-info"},Z=e("div",{class:"flow-list"},null,-1),ee=e("div",{class:"status"},[e("ul",null,[e("li",{class:"s1"},"\u25CF \u5DF2\u5B8C\u6210"),e("li",{class:"s2"},"\u25CF \u8FDB\u884C\u4E2D"),e("li",{class:"s3"},"\u25CF \u672A\u8FDB\u884C"),e("li",{class:"s4"},"\u25CF \u5DF2\u62D2\u7EDD"),e("li",{class:"s5"},"\u25CF \u8DF3\u8FC7")])],-1),te=V({__name:"drawerCom",props:{type:null},emits:["update:modelValue"],setup(T,{expose:b,emit:C}){const o=S({visible:!0,formId:"",id:"",loading:!0}),f=l=>{o.visible=!0,o.id=l.formId,E(()=>{y(l)})},m=s(),c=s(),D=s({list:[],form:{}}),F=l=>(l.formId=o.formId,l.id=o.id,l),v=()=>{},y=l=>{const r={id:l.flowId};k("designById",r).then(d=>{m.value.setValue(w(d.data.data)),o.formId=d.data.source,k("designById",{id:d.data.source}).then(_=>{D.value=w(_.data.data),E(()=>{o.loading=!1})}),c.value.getData({formId:o.formId,id:o.id})})},n=s(),B=s({list:[{type:"divider",control:{},config:{},item:{label:"\u5BA1\u6279\u610F\u89C1"}},{type:"select",control:{modelValue:"",appendToBody:!0,placeholder:"\u8BF7\u9009\u62E9\u5E38\u7528\u5BA1\u6279\u610F\u89C1"},options:[{label:"\u540C\u610F",value:1},{label:"\u4E0D\u540C\u610F",value:2}],config:{optionsType:0,span:8},name:"type",item:{label:"\u5FEB\u9009\u5BA1\u6279\u610F\u89C1"}},{type:"textarea",control:{modelValue:""},config:{},name:"remark",item:{label:"\u5BA1\u6279\u610F\u89C1",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA1\u6279\u610F\u89C1",trigger:"change"}]}}],form:{size:"default"},config:{}}),q=({key:l,value:r})=>{l==="type"&&n.value.setValue({remark:r===1?"\u540C\u610F":"\u4E0D\u540C\u610F"})};return b({open:f}),(l,r)=>{const d=u("el-tag"),_=u("el-button"),h=u("ak-form"),g=u("el-tab-pane"),U=u("ak-flow"),L=u("el-tabs"),N=u("el-drawer"),O=$("loading");return p(),x(N,{modelValue:o.visible,"onUpdate:modelValue":r[0]||(r[0]=z=>o.visible=z),"destroy-on-close":"","with-header":!1,size:"1200px"},{default:a(()=>[e("div",R,[e("div",H,[J,e("div",null,[K,t(d,null,{default:a(()=>[M]),_:1})]),e("div",P,[t(_,{type:"success"},{default:a(()=>[Q]),_:1}),t(_,{type:"danger"},{default:a(()=>[W]),_:1}),t(_,{type:"primary"},{default:a(()=>[X]),_:1})])]),t(L,null,{default:a(()=>[t(g,{label:"\u8868\u5355\u4FE1\u606F"},{default:a(()=>[j((p(),I("div",Y,[t(h,{ref_key:"formEl",ref:c,formData:D.value,beforeSubmit:F,afterSubmit:v,type:2,requestUrl:"getFormContent",editUrl:"editFormContent"},null,8,["formData"]),t(h,{ref_key:"formOptionsEl",ref:n,formData:B.value,type:1,onChange:q},null,8,["formData"]),Z])),[[O,o.loading]])]),_:1}),t(g,{label:"\u6D41\u7A0B\u56FE",name:"flow",class:"flow-box"},{default:a(()=>[ee,t(U,{type:1,ref_key:"flowEl",ref:m},null,512)]),_:1}),t(g,{label:"\u6D41\u8F6C\u8BB0\u5F55"})]),_:1})])]),_:1},8,["modelValue"])}}});const ae=V({__name:"todo",setup(T){const b=s(),C=s({list:[{type:"input",control:{modelValue:"",placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6279\u6807\u9898"},config:{},name:"title",item:{label:"\u5BA1\u6279\u6807\u9898"}},{type:"button",control:{label:"\u67E5\u8BE2",type:"primary",key:"submit"},config:{},name:"button1682087269238"},{type:"button",control:{label:"\u91CD\u7F6E"},config:{}}],form:{size:"default"},config:{}}),o=s({columns:[{prop:"title",label:"\u5BA1\u6279\u6807\u9898"},{prop:"creatTime",label:"\u53D1\u8D77\u65F6\u95F4",config:{formatter:"{y}-{m}-{d} {h}:{i}:{s}"}},{prop:"a",label:"\u6D41\u7A0B\u8282\u70B9"},{prop:"status",label:"\u6D41\u7A0B\u72B6\u6001"}],config:{requestUrl:"flowList",expand:!0}}),f=s(),m=c=>{f.value.open(c)};return(c,D)=>{const F=u("el-tag"),v=u("el-button"),y=u("ak-list");return p(),I("div",null,[t(y,{ref_key:"tableListEl",ref:b,requestUrl:"flowList",searchData:C.value,tableData:o.value},{status:a(({row:n})=>[n.status?(p(),x(F,{key:0},{default:a(()=>[i(A(n.status),1)]),_:2},1024)):G("",!0)]),title:a(({row:n})=>[t(v,{link:"",type:"primary",onClick:B=>m(n)},{default:a(()=>[i(A(n.title),1)]),_:2},1032,["onClick"])]),_:1},8,["searchData","tableData"]),t(te,{ref_key:"drawerEl",ref:f},null,512)])}}});export{ae as default};
