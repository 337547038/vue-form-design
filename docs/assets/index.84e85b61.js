import{d as E,o,c as g,r as q,F as w,a,w as e,b as A,e as h,n as V,f as _,t as x,g as n,h as t,i as F,j,k as G,l as H,u as K,m as M,p as N,q as D,s as P,v as Q,K as W,x as X}from"./index.4bea5897.js";const Y=""+new URL("logo.03d6d6da.png",import.meta.url).href,Z=E({__name:"menuItem",props:{data:{default:()=>[]}},setup(C){return(d,s)=>{const u=t("el-icon"),v=t("menu-item",!0),c=t("el-sub-menu"),p=t("el-menu-item");return o(!0),g(w,null,q(C.data,(l,m)=>(o(),g(w,{key:m},[l.children?(o(),a(c,{key:0,index:l.path||l.name},{title:e(()=>[l.elIcon?(o(),a(u,{key:0},{default:e(()=>[(o(),a(A(l.elIcon)))]),_:2},1024)):h("",!0),l.icon?(o(),g("i",{key:1,class:V(`icon ${l.icon}`)},null,2)):h("",!0),_("span",null,x(l.name),1)]),default:e(()=>[n(v,{data:l.children},null,8,["data"])]),_:2},1032,["index"])):(o(),a(p,{key:1,index:l.path||l.name},{default:e(()=>[l.elIcon?(o(),a(u,{key:0},{default:e(()=>[(o(),a(A(l.elIcon)))]),_:2},1024)):h("",!0),l.icon?(o(),g("i",{key:1,class:V(`icon ${l.icon}`)},null,2)):h("",!0),_("span",null,x(l.name),1)]),_:2},1032,["index"]))],64))),128)}}}),ee=E({__name:"menu",props:{collapse:{type:Boolean}},emits:["getMenuList"],setup(C,{emit:d}){const s=F([]),u=()=>{const c=window.sessionStorage.getItem("formMenuList");if(c){s.value=JSON.parse(c);return}G("menuList",{}).then(p=>{s.value=H(p.data,"transformDataToChild"),window.sessionStorage.setItem("formMenuList",JSON.stringify(s.value))})},v=()=>{};return j(()=>{d("getMenuList",s.value),u()}),(c,p)=>{const l=t("el-menu");return o(),a(l,{collapse:C.collapse,"active-text-color":"#ffd04b","background-color":"rgb(48 65 86)","text-color":"#fff",onSelect:v,router:""},{default:e(()=>[n(Z,{data:s.value},null,8,["data"])]),_:1},8,["collapse"])}}}),ne=N("\u9996\u9875"),te={class:"comm-header-tool"},oe={class:"header-right"},le={class:"header-avatar",style:{cursor:"pointer"}},ae={class:"name"},se=_("span",{class:"title"},"\u4E2A\u4EBA\u4E2D\u5FC3",-1),ce=_("span",{class:"title"},"\u8BBE\u7F6E",-1),ue=_("span",{class:"title"},"\u9000\u51FA\u767B\u5F55",-1),re=E({__name:"header",props:{collapse:{type:Boolean}},emits:["click"],setup(C,{emit:d}){const s=K(),u=M(()=>s==null?void 0:s.breadcrumb),v=F({name:"admin",avatar:""}),c=l=>{d("click",l)},p=()=>{console.log("logout")};return(l,m)=>{const r=t("Fold"),f=t("Expand"),i=t("el-icon"),b=t("el-breadcrumb-item"),L=t("el-breadcrumb"),B=t("RefreshRight"),S=t("FullScreen"),$=t("el-avatar"),R=t("arrow-down"),y=t("User"),I=t("el-menu-item"),T=t("Setting"),U=t("CircleClose"),z=t("el-menu"),J=t("el-dropdown");return o(),g(w,null,[n(i,{onClick:m[0]||(m[0]=k=>c("collapse")),class:"collapse-icon"},{default:e(()=>[C.collapse?(o(),a(f,{key:1})):(o(),a(r,{key:0}))]),_:1}),n(L,{separator:"/",class:"breadcrumb"},{default:e(()=>[n(b,{to:{path:"/"}},{default:e(()=>[ne]),_:1}),(o(!0),g(w,null,q(D(u),(k,O)=>(o(),g(w,{key:O},[k.path?(o(),a(b,{key:0,to:{path:k.path}},{default:e(()=>[N(x(k.label),1)]),_:2},1032,["to"])):(o(),a(b,{key:1},{default:e(()=>[N(x(k.label),1)]),_:2},1024))],64))),128))]),_:1}),_("div",te,[n(i,{onClick:m[1]||(m[1]=k=>c("refresh")),title:"\u5237\u65B0\u9875\u9762"},{default:e(()=>[n(B)]),_:1}),n(i,{title:"\u5168\u5C4F"},{default:e(()=>[n(S,{onClick:m[2]||(m[2]=k=>c("fullScreen"))})]),_:1})]),_("div",oe,[n(J,null,{dropdown:e(()=>[n(z,{class:"avatar-menu"},{default:e(()=>[n(I,null,{default:e(()=>[n(i,null,{default:e(()=>[n(y)]),_:1}),se]),_:1}),n(I,null,{default:e(()=>[n(i,null,{default:e(()=>[n(T)]),_:1}),ce]),_:1}),n(I,{onClick:p},{default:e(()=>[n(i,null,{default:e(()=>[n(U)]),_:1}),ue]),_:1})]),_:1})]),default:e(()=>[_("div",le,[n($,{class:"avatar",size:"small",shape:"circle",src:v.value.avatar},null,8,["src"]),_("span",ae,x(v.value.name),1),n(i,{class:"el-icon--right"},{default:e(()=>[n(R)]),_:1})])]),_:1})])],64)}}});const _e=_("img",{src:Y,alt:""},null,-1),de=E({__name:"index",setup(C){const d=K(),s=F(!0),u=F(!1),v=F([]),c=M({get:()=>d.reloadFlag,set:()=>{d.setReloadRouter()}}),p=r=>{r==="collapse"&&(s.value=!s.value),r==="fullScreen"&&(u.value=!u.value),r==="refresh"&&(c.value=!1,X(()=>{c.value=!0}))},l=r=>{v.value=r},m=M(()=>{const r=d==null?void 0:d.tabs;if(r){const f=[];return r.forEach(i=>{f.push(i.name)}),f}return[]});return(r,f)=>{const i=t("el-aside"),b=t("el-header"),L=t("router-view"),B=t("el-main"),S=t("el-container"),$=t("Close"),R=t("el-icon");return o(),a(S,{class:"common-layout"},{default:e(()=>[u.value?h("",!0):(o(),a(i,{key:0,width:s.value?"44px":"180px",class:"common-sidebar"},{default:e(()=>[_("div",{class:"logo",onClick:f[0]||(f[0]=y=>r.$router.push({path:"/"}))},[_e,P(_("span",null,"AK\u4F4E\u4EE3\u7801\u5FEB\u901F\u5F00\u53D1\u5E73\u53F0",512),[[Q,!s.value]])]),n(ee,{collapse:s.value,onGetMenuList:l},null,8,["collapse"])]),_:1},8,["width"])),n(S,{class:"overflow-scroll"},{default:e(()=>[u.value?h("",!0):(o(),a(b,{key:0,class:"common-header"},{default:e(()=>[n(re,{onClick:p,collapse:s.value},null,8,["collapse"])]),_:1})),n(B,{class:"common-main"},{default:e(()=>[D(c)?(o(),a(L,{key:0},{default:e(({Component:y})=>[(o(),a(W,{include:D(m)},[(o(),a(A(y)))],1032,["include"]))]),_:1})):h("",!0)]),_:1})]),_:1}),u.value?(o(),a(R,{key:1,class:"quit-full",onClick:f[1]||(f[1]=y=>p("fullScreen")),title:"\u9000\u51FA\u5168\u5C4F"},{default:e(()=>[n($)]),_:1})):h("",!0)]),_:1})}}});export{de as default};
