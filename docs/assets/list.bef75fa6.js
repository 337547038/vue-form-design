import{f as k,y as _,B as v,r as l,n as x,a as u,b as V,d as C,e as a,w as p,l as w,t as m}from"./index.2b72f3d0.js";const T=k({__name:"list",setup(L){const s=_(),t=v({visible:!1,row:{}}),i=l(),n=l(),d=l({columns:[{label:"\u52FE\u9009",type:"selection"},{prop:"id",label:"ID",width:"60px"},{prop:"name",label:"\u8868\u5355\u540D\u79F0",width:"150px"},{prop:"sourceName",label:"\u6570\u636E\u6E90\u540D\u79F0/ID",width:"150px"},{prop:"category",label:"\u5206\u7C7B",config:{dictKey:"form"}},{prop:"status",label:"\u72B6\u6001",config:{dictKey:"status",tagList:{0:"info",1:"success"}}},{prop:"creatName",label:"\u521B\u5EFA\u4EBA"},{prop:"creatDate",label:"\u521B\u5EFA\u65F6\u95F4",width:200,config:{formatter:"{y}-{m}-{d} {h}:{i}:{s}"}},{label:"\u64CD\u4F5C",prop:"__control",width:"220px",fixed:"right"}],controlBtn:[{label:"\u65B0\u589E",type:"primary",size:"small",click:()=>{r({})}},{label:"\u5220\u9664",key:"del",size:"small"}],operateBtn:[{label:"\u8BBE\u7F6E",key:"set",click:e=>{t.visible=!0,x(()=>{t.row=e,i.value.setValue(e)})}},{label:"\u521B\u5EFA\u5217\u8868",click:e=>{s.push({path:"/design/dataList",query:{form:e.id}})}},{label:"\u7F16\u8F91",click:e=>{r(e)}},{label:"\u5220\u9664",key:"del"}],config:{expand:!0}}),r=e=>{s.push({path:"/design/form",query:{id:e.id}})},b=l({list:[{type:"input",control:{modelValue:"",placeholder:"\u8BF7\u8F93\u5165\u8868\u5355\u540D\u79F0"},config:{},name:"name",item:{label:"\u8868\u5355\u540D\u79F0"}},{type:"input",control:{modelValue:"",placeholder:"\u8BF7\u8F93\u5165\u6570\u636E\u6E90\u540D\u79F0"},config:{},name:"sourceName",item:{label:"\u6570\u636E\u6E90\u540D\u79F0"}},{type:"button",control:{label:"\u67E5\u8BE2",key:"submit",type:"primary"}},{type:"button",control:{label:"\u91CD\u7F6E",key:"reset"}}],form:{labelWidth:"",class:"",size:"default"},config:{}}),f=l({list:[{type:"input",control:{modelValue:""},config:{},name:"name",item:{label:"\u8868\u5355\u540D\u79F0"},customRules:[{type:"required",message:"\u8BF7\u8F93\u5165\u8868\u5355\u540D\u79F0",trigger:"blur"}]},{type:"select",control:{modelValue:"",appendToBody:!0},options:[],config:{optionsType:2,optionsFun:"form"},name:"category",item:{label:"\u5206\u7C7B"}},{type:"select",control:{modelValue:"",appendToBody:!0},options:[],config:{optionsType:1,optionsFun:"roleList",method:"post",label:"name",value:"id",help:"\u54EA\u4E9B\u89D2\u8272\u53EF\u4EE5\u67E5\u770B"},name:"roleId",item:{label:"\u6743\u9650\u89D2\u8272"}},{type:"select",control:{modelValue:"",appendToBody:!0},options:[],config:{optionsType:2,optionsFun:"status"},name:"status",item:{label:"\u542F\u7528\u72B6\u6001"}},{type:"div",control:{},config:{textAlign:"center"},list:[{type:"button",control:{label:"\u4FEE\u6539",type:"primary",key:"submit"},config:{span:0}},{type:"button",control:{label:"\u53D6\u6D88",key:"reset"},config:{span:0}}]}],form:{labelWidth:"140px",class:"",size:"default",name:"formDialog"}}),y=e=>{e==="success"&&(t.visible=!1,t.row={},n.value.getListData())},g=e=>(e.id=t.row.id,e),F=e=>{e==="reset"&&(t.visible=!1)},E=e=>(e.type=1,e);return(e,c)=>{const D=u("ak-list"),B=u("ak-form"),h=u("el-dialog");return V(),C("div",null,[a(D,{ref_key:"tableListEl",ref:n,requestUrl:"designList",deleteUrl:"designDelete",searchData:b.value,tableData:d.value,beforeRequest:E},{sourceName:p(({row:o})=>[w("div",null,m(o.sourceName)+"/"+m(o.source),1)]),_:1},8,["searchData","tableData"]),a(h,{modelValue:t.visible,"onUpdate:modelValue":c[0]||(c[0]=o=>t.visible=o),title:"\u8BBE\u7F6E",width:"480px","destroy-on-close":""},{default:p(()=>[a(B,{ref_key:"formEl",ref:i,formData:f.value,type:2,editUrl:"designChange",afterSubmit:y,beforeSubmit:g,onBtnClick:F},null,8,["formData"])]),_:1},8,["modelValue"])])}}});export{T as default};
