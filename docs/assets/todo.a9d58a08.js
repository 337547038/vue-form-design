import{i as V,M as S,r as s,b as l,O as $,c as p,k as x,w as a,e,g as t,D as H,d as I,h as i,H as E,m as k,s as w,t as A,y as M}from"./index.58206b0d.js";const R={class:"flow-detail-drawer"},j={class:"header"},G=e("div",{class:"face"},[e("i",{class:"icon-user"})],-1),J=e("div",{class:"name"},"\u5F20\u4E09\u603B",-1),K=i("\u603B\u88C1\u52A9\u7406\u5BA1\u6279\u4E2D"),P={class:"button"},Q=i("\u540C\u610F"),W=i("\u62D2\u7EDD"),X=i("\u6D41\u8F6C"),Y={class:"form-info"},Z=e("div",{class:"flow-list"},null,-1),ee=e("div",{class:"status"},[e("ul",null,[e("li",{class:"s1"},"\u25CF \u5DF2\u5B8C\u6210"),e("li",{class:"s2"},"\u25CF \u8FDB\u884C\u4E2D"),e("li",{class:"s3"},"\u25CF \u672A\u8FDB\u884C"),e("li",{class:"s4"},"\u25CF \u5DF2\u62D2\u7EDD"),e("li",{class:"s5"},"\u25CF \u8DF3\u8FC7")])],-1),te=V({__name:"drawerCom",props:{type:null},emits:["update:modelValue"],setup(T,{expose:b,emit:C}){const o=S({visible:!0,formId:"",id:"",loading:!0}),m=u=>{o.visible=!0,o.id=u.formId,E(()=>{g(u)})},f=s(),c=s(),D=s({list:[],form:{}}),F=u=>(u.formId=o.formId,u.id=o.id,u),y=()=>{},g=u=>{const r={id:u.flowId};k("designById",r).then(d=>{f.value.setValue(w(d.data.data)),o.formId=d.data.source,k("designById",{id:d.data.source}).then(_=>{D.value=w(_.data.data),E(()=>{o.loading=!1})}),c.value.getData({formId:o.formId,id:o.id})})},n=s(),B=s({list:[{type:"divider",control:{},config:{},item:{label:"\u5BA1\u6279\u610F\u89C1"}},{type:"select",control:{modelValue:"",appendToBody:!0,placeholder:"\u8BF7\u9009\u62E9\u5E38\u7528\u5BA1\u6279\u610F\u89C1"},options:[{label:"\u540C\u610F",value:1},{label:"\u4E0D\u540C\u610F",value:2}],config:{optionsType:0,span:8},name:"type",item:{label:"\u5FEB\u9009\u5BA1\u6279\u610F\u89C1"}},{type:"textarea",control:{modelValue:""},config:{},name:"remark",item:{label:"\u5BA1\u6279\u610F\u89C1",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BA1\u6279\u610F\u89C1",trigger:"change"}]}}],form:{size:"default"},config:{}}),q=({key:u,value:r})=>{u==="type"&&n.value.setValue({remark:r===1?"\u540C\u610F":"\u4E0D\u540C\u610F"})};return b({open:m}),(u,r)=>{const d=l("el-tag"),_=l("el-button"),h=l("ak-form"),v=l("el-tab-pane"),O=l("ak-flow"),U=l("el-tabs"),L=l("el-drawer"),N=$("loading");return p(),x(L,{modelValue:o.visible,"onUpdate:modelValue":r[0]||(r[0]=z=>o.visible=z),"destroy-on-close":"","with-header":!1,size:"1200px"},{default:a(()=>[e("div",R,[e("div",j,[G,e("div",null,[J,t(d,null,{default:a(()=>[K]),_:1})]),e("div",P,[t(_,{type:"success"},{default:a(()=>[Q]),_:1}),t(_,{type:"danger"},{default:a(()=>[W]),_:1}),t(_,{type:"primary"},{default:a(()=>[X]),_:1})])]),t(U,null,{default:a(()=>[t(v,{label:"\u8868\u5355\u4FE1\u606F"},{default:a(()=>[H((p(),I("div",Y,[t(h,{ref_key:"formEl",ref:c,formData:D.value,beforeSubmit:F,afterSubmit:y,type:2,requestUrl:"getFormContent",editUrl:"editFormContent"},null,8,["formData"]),t(h,{ref_key:"formOptionsEl",ref:n,formData:B.value,type:1,onChange:q},null,8,["formData"]),Z])),[[N,o.loading]])]),_:1}),t(v,{label:"\u6D41\u7A0B\u56FE",name:"flow",class:"flow-box"},{default:a(()=>[ee,t(O,{type:1,ref_key:"flowEl",ref:f},null,512)]),_:1}),t(v,{label:"\u6D41\u8F6C\u8BB0\u5F55"})]),_:1})])]),_:1},8,["modelValue"])}}});const ae=V({__name:"todo",setup(T){const b=s(),C=s({list:[{type:"input",control:{modelValue:"",placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6279\u6807\u9898"},config:{},name:"title",item:{label:"\u5BA1\u6279\u6807\u9898"}},{type:"button",control:{label:"\u67E5\u8BE2",type:"primary",key:"submit"},config:{},name:"button1682087269238"},{type:"button",control:{label:"\u91CD\u7F6E"},config:{}}],form:{size:"default"},config:{}}),o=s({columns:[{prop:"title",label:"\u5BA1\u6279\u6807\u9898"},{prop:"creatTime",label:"\u53D1\u8D77\u65F6\u95F4",config:{formatter:"{y}-{m}-{d} {h}:{i}:{s}"}},{prop:"a",label:"\u6D41\u7A0B\u8282\u70B9"},{prop:"status",label:"\u6D41\u7A0B\u72B6\u6001"}],config:{requestUrl:"flowList",expand:!0}}),m=s(),f=c=>{m.value.open(c)};return(c,D)=>{const F=l("el-tag"),y=l("el-button"),g=l("ak-list");return p(),I("div",null,[t(g,{ref_key:"tableListEl",ref:b,requestUrl:"flowList",searchData:C.value,tableData:o.value},{status:a(({row:n})=>[n.status?(p(),x(F,{key:0},{default:a(()=>[i(A(n.status),1)]),_:2},1024)):M("",!0)]),title:a(({row:n})=>[t(y,{link:"",type:"primary",onClick:B=>f(n)},{default:a(()=>[i(A(n.title),1)]),_:2},1032,["onClick"])]),_:1},8,["searchData","tableData"]),t(te,{ref_key:"drawerEl",ref:m},null,512)])}}});export{ae as default};
