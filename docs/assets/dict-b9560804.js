import{d as D,r as a,I as y,a as V,c as B,l as i,w as g,m as r,B as s}from"./index-ea7eee8a.js";const S=D({__name:"dict",setup(E){const c=a(),d=a(),p=a(),t=y({visible:!1,type:1,editId:"",formData:{list:[{type:"input",control:{modelValue:"",placeholder:"请输入字典名称"},config:{},name:"name",item:{label:"字典名称"},customRules:[{type:"required",message:"请输入字典名称",trigger:"blur"}]},{type:"input",control:{modelValue:"",placeholder:"请输入字典标识"},config:{editDisabled:!0},name:"type",item:{label:"字典标识"},customRules:[{type:"required",message:"请输入字典标识",trigger:"blur"}]},{type:"radio",control:{modelValue:1},options:[{label:"正常",value:1},{label:"停用",value:0}],config:{optionsType:0},name:"status",item:{label:"状态"}},{type:"textarea",control:{modelValue:""},config:{},name:"remark",item:{label:"说明描述"}},{type:"button",control:{label:"保存",type:"primary",key:"submit"},config:{span:0}},{type:"button",control:{label:"取消",key:"reset"},config:{span:0}}],form:{labelWidth:"",size:"default"},config:{}}}),l=y({visible:!1,editId:"",formData:{list:[{type:"input",control:{modelValue:"",disabled:!0,placeholder:"请输入字典名称"},config:{},name:"name",item:{label:"字典名称"}},{type:"flex",list:[{type:"input",control:{modelValue:"",placeholder:"显示的标签名称"},config:{},name:"label",item:{label:"字典标签"}},{type:"input",control:{modelValue:""},config:{},name:"value",item:{label:"键值"}}],tableData:[],control:{},config:{addBtnText:"添加一行",delBtnText:"删除"},name:"children"},{type:"div",control:{},config:{textAlign:"center"},list:[{type:"button",control:{label:"保存",type:"primary",key:"submit"},config:{span:0}},{type:"button",control:{label:"取消",key:"reset"},config:{span:0}}]}],form:{labelWidth:"",size:"default"},config:{style:`.flex-item{display:flex}
.flex-item .el-form-item{ margin-right:10px}`}}}),v=a({columns:[{label:"多选",type:"selection"},{label:"序号",type:"index",width:"70px"},{label:"字典名称",prop:"name"},{label:"字典标识",prop:"type"},{label:"状态",prop:"status",config:{tagList:{0:"info",1:"success"},dictKey:"status"}},{label:"更新时间",prop:"updateTime",width:170,config:{formatter:"{y}-{m}-{d} {h}:{i}:{s}"}},{label:"操作",prop:"__control",width:180}],controlBtn:[{label:"新增",type:"primary",size:"small",icon:"plus",click:()=>{t.visible=!0,t.type=1,t.editId="",s(()=>{})}},{label:"批量删除",type:"danger",size:"small",icon:"delete",key:"del"}],operateBtn:[{label:"设置",click:e=>{l.visible=!0,l.type=1,l.editId=e.id,s(()=>{p.value.setValue({name:e.name,children:e.children?JSON.parse(e.children):[]})})}},{label:"编辑",icon:"edit",click:e=>{t.visible=!0,t.type=2,t.editId=e.id,s(()=>{d.value.setValue(e)})}},{label:"删除",key:"del",icon:"delete",visible:"$.isSystem!==1"}],config:{expand:!0}}),k=a({list:[{type:"input",control:{modelValue:"",placeholder:"请输入字典名称"},config:{},name:"name",item:{label:"字典名称"}},{type:"select",control:{modelValue:"",appendToBody:!0},options:[{label:"正常",value:"1"},{label:"停用",value:"0"}],config:{optionsType:0},item:{label:"状态"}},{type:"button",control:{label:"查询",type:"primary",key:"submit",icon:"search"},config:{}},{type:"button",control:{label:"清空",key:"reset"},config:{}}],form:{labelWidth:"",class:"",size:"default"},config:{}}),h=e=>(e.id=t.editId,e),_=e=>(e.id=l.editId,e),m=()=>{t.visible=!1,l.visible=!1,c.value.getListData()},u=e=>{e==="reset"&&(t.visible=!1,l.visible=!1)};return(e,o)=>{const x=r("ak-list"),b=r("ak-form"),f=r("el-dialog");return V(),B("div",null,[i(x,{ref_key:"tableListEl",ref:c,requestUrl:"dictList",deleteUrl:"dictDelete",searchData:k.value,tableData:v.value},null,8,["searchData","tableData"]),i(f,{modelValue:t.visible,"onUpdate:modelValue":o[0]||(o[0]=n=>t.visible=n),title:"添加字典",width:"400px","destroy-on-close":""},{default:g(()=>[i(b,{ref_key:"formEl",ref:d,formData:t.formData,type:t.type,addUrl:"dictSave",editUrl:"dictEdit",beforeSubmit:h,afterSubmit:m,onBtnClick:u},null,8,["formData","type"])]),_:1},8,["modelValue"]),i(f,{modelValue:l.visible,"onUpdate:modelValue":o[1]||(o[1]=n=>l.visible=n),title:"设置字典数据",width:"400px","destroy-on-close":""},{default:g(()=>[i(b,{ref_key:"formEl2",ref:p,formData:l.formData,type:2,editUrl:"dictEdit",beforeSubmit:_,afterSubmit:m,onBtnClick:u},null,8,["formData"])]),_:1},8,["modelValue"])])}}});export{S as default};
