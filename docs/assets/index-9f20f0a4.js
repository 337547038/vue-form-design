import{d as h,l as g,G as R,r as y,o as v,c as b,i as I,ai as x,aj as L,g as i,_ as w,u as S,k as q,A as C,J as N,q as B,x as E,I as T,y as _,E as f}from"./index-792ff79a.js";const U=""+new URL("createCode-dd7c8e6a.gif",import.meta.url).href,$=e=>(x("data-v-d6de4647"),e=e(),L(),e),M=$(()=>i("img",{src:U,class:"img"},null,-1)),j=h({__name:"code",props:{placeholder:{}},emits:["update:modelValue"],setup(e,{emit:l}){const t=g("");return R(()=>t.value,()=>{l("update:modelValue",t.value)}),(s,a)=>{const u=y("el-input");return v(),b("div",null,[I(u,{placeholder:s.placeholder,modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=d=>t.value=d)},null,8,["placeholder","modelValue"]),M])}}});const z=w(j,[["__scopeId","data-v-d6de4647"]]),A=e=>(x("data-v-4c57a89d"),e=e(),L(),e),D={class:"login"},G={class:"main"},J=A(()=>i("h3",null,"后台管理系统",-1)),k=h({__name:"index",setup(e){const l=S(),t=q(),s=C(),a=g({list:[{type:"input",control:{prefixIcon:"User",modelValue:"admin",placeholder:"请输入登录账号"},config:{},name:"userName",formItem:{label:"用户名",showLabel:!0},customRules:[{type:"required",message:"请输入登录账号",trigger:"blur"}]},{type:"password",control:{prefixIcon:"Lock",modelValue:"123456",placeholder:"请输入密码"},config:{},name:"password",formItem:{label:"密码",showLabel:!0},customRules:[{type:"required",message:"请输入密码",trigger:"blur"}]},{type:"component",control:{modelValue:"1463",placeholder:"请输入验证码"},config:{componentName:N(z)},name:"code",formItem:{label:"验证码",showLabel:!0},customRules:[{type:"required",message:"请输入验证码",trigger:"blur"}]},{type:"button",control:{label:"保存",type:"primary",key:"submit"}}],form:{size:"default"},config:{}}),u=(r,n)=>{r==="success"&&(l.setLoginInfo(n.data),d().then(()=>{const o=s.query.redirect?s.query.redirect:"/";B(()=>{t.push({path:o})})}))},d=()=>new Promise(r=>{E("userMenuList",{status:1}).then(n=>{const o=n.data.list||[],p=[],m=[];o.forEach(c=>{c.path&&p.push(c.path),c.type!==2&&m.push(c)});const V=T(m);_("formMenuList",V,0),_("resources",p,0),r()})});return(r,n)=>{const o=y("ak-form");return v(),b("div",D,[i("div",G,[J,I(o,{"after-submit":u,data:a.value,"submit-url":"system/user/login"},null,8,["data"])])])}}});typeof f=="function"&&f(k);const F=w(k,[["__scopeId","data-v-4c57a89d"]]);export{F as default};
