import{l as a,G as _,r as o,o as k,c as v,i as s,w as g,q as h}from"./index-BR7JSMnu.js";const B={__name:"post",setup(x){const r=a({}),i=a(null),n=a(),c=a({columns:[{label:"多选",type:"selection"},{label:"序号",type:"index",width:100},{label:"岗位名称",prop:"name"},{label:"操作",prop:"__control",render:"buttons",buttons:[{label:"编辑",key:"edit"},{label:"删除",key:"del"}]}],config:{expand:!0,columnsSetting:!0},controlBtn:[{label:"添加",key:"add",type:"primary",size:"small",icon:"plus"},{label:"批量删除",key:"del",type:"danger",size:"small",icon:"delete"}]}),e=_({visible:!1,type:"add",formData:{list:[{type:"input",control:{modelValue:"",placeholder:"请输入职位名称"},config:{},name:"name",formItem:{label:"职位名称"},customRules:[{type:"required",message:"请输入职位名称",trigger:"blur"}]}],form:{labelWidth:"",size:"default"},config:{submitCancel:!0}}}),d=(l,t)=>{e.visible=!0,l==="edit"&&(e.type="edit",h(()=>{i.value.setValue({name:t.name,id:t.id})}))},p=()=>{e.visible=!1,n.value.getListData()},u=l=>{l==="reset"&&(e.visible=!1)};return(l,t)=>{const m=o("ak-list"),f=o("ak-form"),b=o("el-dialog");return k(),v("div",null,[s(m,{ref_key:"tableListEl",ref:n,"api-key":{list:"postList"},"search-data":r.value,data:c.value,onBtnClick:d},null,8,["search-data","data"]),s(b,{modelValue:e.visible,"onUpdate:modelValue":t[0]||(t[0]=y=>e.visible=y),title:e.type==="add"?"添加职位":"修改",width:"400px","destroy-on-close":""},{default:g(()=>[s(f,{ref_key:"formEl",ref:i,data:e.formData,"operate-type":e.type,"submit-url":e.type==="add"?"postSave":"postEdit",after:p,onBtnClick:u},null,8,["data","operate-type","submit-url"])]),_:1},8,["modelValue","title"])])}}};export{B as default};
