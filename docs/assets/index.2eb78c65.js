var ye=Object.defineProperty,be=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var oe=(e,l,t)=>l in e?ye(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,G=(e,l)=>{for(var t in l||(l={}))ve.call(l,t)&&oe(e,t,l[t]);if(le)for(var t of le(l))ke.call(l,t)&&oe(e,t,l[t]);return e},Y=(e,l)=>be(e,he(l));import{r as f,o as s,c as p,w as y,a as w,b as re,T as Ve,d as De,e as Ce,f as Ee,g as Se,h as U,i as x,t as $,j as W,k as Z,l as j,E as ee,u as ae,m as Te,n as R,p as te,q as ne,s as H,v as P,x as O,y as h,z as D,A as b,F as N,B,C as Fe,D as we,G as Le,H as Oe,I as de,J as Ae,K as ie,L as q,M as ce,N as Pe,O as K,P as Ie,Q as Re,R as J,S as Ne,U as Ue,V as ze,W as je}from"./vendor.df12524c.js";const xe=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&n(_)}).observe(document,{childList:!0,subtree:!0});function t(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerpolicy&&(m.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?m.credentials="include":d.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function n(d){if(d.ep)return;d.ep=!0;const m=t(d);fetch(d.href,m)}};xe();var M=(e,l)=>{const t=e.__vccOpts||e;for(const[n,d]of l)t[n]=d;return t};const Be={};function Me(e,l){const t=f("router-view");return s(),p(t,null,{default:y(({Component:n})=>[w(Ve,{name:"left-fade",mode:"out-in"},{default:y(()=>[(s(),p(re(n)))]),_:2},1024)]),_:1})}var qe=M(Be,[["render",Me]]);const He="modulepreload",se={},Ke="./",F=function(l,t){return!t||t.length===0?l():Promise.all(t.map(n=>{if(n=`${Ke}${n}`,n in se)return;se[n]=!0;const d=n.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${m}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":He,d||(_.as="script",_.crossOrigin=""),_.href=n,document.head.appendChild(_),d)return new Promise((S,T)=>{_.addEventListener("load",S),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>l())},ue=[{name:"docs-useVerify",path:"/docs/useverify",component:()=>F(()=>import("./useVerify.f9aabc50.js"),["assets/useVerify.f9aabc50.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-useInfo",path:"/docs/useinfo",component:()=>F(()=>import("./useInfo.5bc9370c.js"),["assets/useInfo.5bc9370c.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-useBind",path:"/docs/usebind",component:()=>F(()=>import("./useBind.695b09c5.js"),["assets/useBind.695b09c5.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-tableListDemo",path:"/docs/tablelistdemo",component:()=>F(()=>import("./tableListDemo.9d88e37f.js"),["assets/tableListDemo.9d88e37f.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-tableList",path:"/docs/tablelist",component:()=>F(()=>import("./tableList.523fb36c.js"),["assets/tableList.523fb36c.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-search",path:"/docs/search",component:()=>F(()=>import("./search.4d52b264.js"),["assets/search.4d52b264.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-designFormDemo",path:"/docs/designformdemo",component:()=>F(()=>import("./designFormDemo.f26ccae8.js"),["assets/designFormDemo.f26ccae8.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs-designForm",path:"/docs/designform",component:()=>F(()=>import("./designForm.33e0b748.js"),["assets/designForm.33e0b748.js","assets/vendor.df12524c.js"]),props:!0},{name:"docs",path:"/docs",component:()=>F(()=>import("./index.6164e1c2.js"),["assets/index.6164e1c2.js","assets/vendor.df12524c.js"]),props:!0}];console.log(ue);const Je=De({scrollBehavior(e,l,t){return t||{top:0}},history:Ce(),routes:[{path:"/",name:"index",component:()=>F(()=>import("./index.e1aa5fcd.js"),["assets/index.e1aa5fcd.js","assets/vendor.df12524c.js"])},{path:"/design",name:"design",component:()=>F(()=>import("./designForm.efb255b9.js"),["assets/designForm.efb255b9.js","assets/vueFile.d738ec56.js","assets/vendor.df12524c.js","assets/index.6c162138.js"])},{path:"/designTable",name:"designTable",component:()=>F(()=>import("./designTable.73158c23.js"),["assets/designTable.73158c23.js","assets/vueFile.d738ec56.js","assets/vendor.df12524c.js","assets/index.6c162138.js"])},{path:"/form",name:"form",component:()=>F(()=>import("./form.b2d50bf2.js"),["assets/form.b2d50bf2.js","assets/vendor.df12524c.js","assets/index.6c162138.js"])},{path:"/list",name:"list",component:()=>F(()=>import("./list.da8002d1.js"),["assets/list.da8002d1.js","assets/vendor.df12524c.js","assets/index.6c162138.js"])},{path:"/formList",name:"formList",component:()=>F(()=>import("./index.46f7223a.js"),["assets/index.46f7223a.js","assets/vendor.df12524c.js"])},{path:"/export/form",name:"exportForm",component:()=>F(()=>import("./form.ca4f2655.js"),["assets/form.ca4f2655.js","assets/vendor.df12524c.js"])},{path:"/export/list",name:"exportList",component:()=>F(()=>import("./list.141b635a.js"),["assets/list.141b635a.js","assets/vendor.df12524c.js"])},{path:"/test",name:"test",component:()=>F(()=>import("./test.c0f09240.js"),["assets/test.c0f09240.js","assets/vendor.df12524c.js"])},{name:"docs",path:"/docs",component:()=>F(()=>import("./layout.50129088.js"),["assets/layout.50129088.js","assets/layout.1615162b.css","assets/vendor.df12524c.js"]),children:[...ue]}]});var Ge={state:{controlAttr:{},activeKey:""},mutations:{setControlAttr(e,l){e.controlAttr=l},setActiveKey(e,l){e.activeKey=l}},actions:{}},We=Ee({modules:{form:Ge}});const A=Se.create({baseURL:"http://localhost:3001",timeout:6e3,headers:{}});A.interceptors.request.use(e=>e,e=>{Promise.reject(e)});A.interceptors.response.use(e=>e,e=>Promise.reject(e));const Ze={name:"tooltip",data(){return{}},props:{content:String},components:{},methods:{},computed:{},mounted(){}},Qe=["innerHTML"],Xe=U("i",{class:"icon-help"},null,-1);function Ye(e,l,t,n,d,m){const _=f("el-tooltip");return s(),p(_,{placement:"top"},{content:y(()=>[U("span",{innerHTML:t.content},null,8,Qe)]),default:y(()=>[Xe]),_:1})}var Q=M(Ze,[["render",Ye]]);function Yt(e){return A({url:"/saveDesignForm",method:"POST",data:e})}function $t(e){return A({url:"/getDesignFormRow?id="+e,method:"get"})}function en(e){return A({url:"/list?name="+e,method:"get"})}function tn(e,l){return A({url:"/list?name="+e,method:"get",data:l})}function nn(e){return A({url:"/getFiled?formId="+e,method:"get"})}function ln(e,l){return A({url:"/saveFormList?name="+l,method:"post",data:e})}function on(e,l,t){return A({url:`/editFormList?name=${l}&id=${t}`,method:"post",data:e})}function an(e,l){return A({url:`/getRowById?id=${e}&name=${l}`,method:"get"})}function sn(e,l){return A({url:`/delById?id=${l}&name=${e}`,method:"get"})}function $e(e,l){return A({url:l||"/upload/single",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function et(e,l){return A({url:l||"/upload/single",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}const tt={props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"\u8BF7\u8F93\u5165\u5185\u5BB9"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},bloblUrl:{type:String,default:""},imgUrl:{type:String,default:""},config:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,n=x(t.modelValue);let d=null;const m="preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern autosave ",_="fullscreen undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor  table image | alignleft aligncenter alignright alignjustify outdent indent |  styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | media charmap emoticons hr pagebreak insertdatetime print preview | code selectall searchreplace visualblocks | indent2em lineheight formatpainter axupimgs",S="undo cut copy paste pastetext |forecolor backcolor bold italic underline strikethrough|alignleft aligncenter alignright alignjustify|",T={cleanup:!0,language_url:"./static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"./static/tinymce/skins/ui/oxide",plugins:m,toolbar:_,menubar:!0,fontsize_formats:"12px 14px 16px 18px 20px 22px 24px 28px 32px 36px",font_formats:"\u5FAE\u8F6F\u96C5\u9ED1=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;\u5B8B\u4F53=simsun,serif;\u4EFF\u5B8B\u4F53=FangSong,serif;\u9ED1\u4F53=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;",lineheight_formats:"0.5 0.8 1 1.2 1.5 1.75 2 2.5 3 4 5",branding:!1,resize:!1,elementpath:!1,content_css:!1,paste_data_images:!0,height:t.height,width:t.width,placeholder:t.placeholder,urlconverter_callback:(a,o,c,r)=>(o==="img"&&a.startsWith("blob:")&&$.activeEditor&&$.activeEditor.uploadImages(),a),images_upload_handler:(a,o,c)=>{L(a,o,c)},file_picker_types:"file image media",file_picker_callback:function(a,o,c){u(a,o,c)}},V={cleanup:!0,language_url:"./static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"./static/tinymce/skins/ui/oxide",plugins:"",toolbar:S,menubar:!1,fontsize_formats:"12px 14px 16px 18px 20px 22px 24px 28px 32px 36px",font_formats:"",lineheight_formats:"0.5 0.8 1 1.2 1.5 1.75 2 2.5 3 4 5",branding:!1,resize:!1,elementpath:!1,paste_data_images:!1,height:t.height,width:t.width,placeholder:t.placeholder},E=W(()=>t.config.style==="simple"?V:T);Z(()=>{$.init({})}),j(()=>n.value,a=>{v(()=>{l("update:modelValue",n.value)})}),j(()=>t.modelValue,a=>{a&&a!==n.value&&(n.value=a)});function v(a,o=400){d!==null&&clearTimeout(d),d=setTimeout(a,o)}const L=(a,o,c)=>{const r=new FormData;r.append("file",a.blob()),$e(r,t.imgUrl).then(i=>{i.data.code===1?o(i.data.path):c("\u4E0A\u4F20\u5931\u8D25")}).catch(()=>{c("\u4E0A\u4F20\u51FA\u9519\uFF0C\u793A\u4F8B\u6682\u4E0D\u63D0\u4F9B\u4E0A\u4F20\u63A5\u53E3")})},u=(a,o,c)=>{const r=".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4",i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept",r),i.click(),i.onchange=()=>{const C=i.files[0];console.log(C);let k={};c.filetype==="file"&&(k={text:C.name}),c.filetype==="image"&&(k={alt:C.name}),c.filetype;const I=new FormData;I.append("file",C),et(I,t.bloblUrl).then(z=>{z.data.code===1?a(z.data.path,k):ee.error(z.message)}).catch(z=>{ee.error(z.message)})}};return(a,o)=>(s(),p(ae(Te),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=c=>n.value=c),init:ae(E)},null,8,["modelValue","init"]))}};var nt="./assets/img.34899e2f.png";const lt={name:"item",components:{Tooltip:Q,TinymceEdit:tt},props:{element:Object,modelValue:null,tProps:String},emits:["update:modelValue"],setup(e,{emit:l}){const t=R("DFStatusType",{}),n=te({type:t.type,config:e.element.config,value:e.tProps?e.modelValue:e.element.control.modelValue});j(()=>e.element.control.modelValue,a=>{n.value=a});const d=n.config;if(d.type==="async"&&d.source===1&&n.type!==4&&d.sourceFun&&(e.element.options=R(d.sourceFun,[])),e.element.customRules&&n.type===1){const a={mobile:/^0{0,1}(13[0-9]|15[7-9]|153|156|18[7-9])[0-9]{8}$/,tel:/^0\d{2,3}-\d{7,8}$/,phone:/^((0\d{2,3}(-?)\d{7,8})|(1[3456789]\d{9}))$/,email:/^[a-z0-9A-Z._%-]+@([a-z0-9A-Z-]+\.)+[a-zA-Z]{2,4}$/,int:/^[0-9]*[1-9][0-9]*$/,number:/^\d+(\.\d+)?$/,card:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/};e.element.customRules.forEach(o=>{if(!o.message&&o.type!=="methods")return;let c=!1;if(e.element.rules.forEach(r=>{o.message===r.message&&o.trigger===r.trigger&&(c=!0)}),!c){let r={};o.type==="required"?r={required:!0}:o.type==="rules"?r={pattern:o.rules}:o.type==="methods"?r={validator:R(o.methods,{})}:o.type&&a[o.type]&&(r={pattern:a[o.type]});let i={message:o.message};o.message||(i={}),e.element.rules.push(Object.assign({trigger:o.trigger||"blur"},r,i))}})}if(e.element.rulesComm&&n.type===1){const a=R("DFFormRulesComm",[]);a&&a.value.length>0&&a.value.forEach(o=>{if(e.element.rulesComm.indexOf(o.key)!==-1){let c=!1;e.element.rules.forEach(r=>{o.key===r.key&&(c=!0)}),c||e.element.rules.push(o)}})}const m=()=>{if(d.type==="async"&&d.source===0&&n.type!==4){const a="option_fun_"+Fe(d.sourceFun),o=window.sessionStorage.getItem(a);o?e.element.options=JSON.parse(o):A[d.request](d.sourceFun,"").then(c=>{c.data.code===200&&(e.element.options=c.data.data,window.sessionStorage.setItem(a,JSON.stringify(c.data.data)))}).catch(c=>{console.log(c)})}};e.element.type==="component"&&e.element.config.template&&(e.element.config.component=R(e.element.config.template,""));const _=a=>a.item?a.item.showLabel?"":a.item.label:"",S=W(()=>t.type===2||t.type===1&&t.isEdit&&e.element.config&&e.element.config.editDisabled?!0:e.element.control.disabled),T=R("DFControlChange","");j(()=>n.value,a=>{e.tProps?l("update:modelValue",a):e.element.control.modelValue=a,T&&T({key:e.element.name,value:a})});const V=R("DFSetFormValue","");j(()=>V.value,()=>{V&&V.value&&!e.tProps&&(n.value=V.value[e.element.name],e.element.type==="upload"&&(e.element.control.fileList=JSON.parse(JSON.stringify(n.value))))});const E=R("DFSetFormOptions","");j(()=>E.value,()=>{E&&E.value&&!e.tProps&&(e.element.options=E.value[e.element.name])});const v=(a,o,c)=>{console.log(o),e.element.control.modelValue.push({name:o.fileName,url:o.path}),e.element.control.onSuccess&&e.element.control.onSuccess(a,o,c)},L=(a,o)=>{e.element.control.modelValue.forEach((c,r)=>{c.url===a.url&&e.element.control.modelValue.splice(r,1)}),e.element.control.onRemove&&e.element.control.onRemove(a,o)},u=(a,o,c)=>{console.log("uploadError"),ee.error(o.name+"\u4E0A\u4F20\u5931\u8D25"),e.element.control.onError&&e.element.control.onError(a,o,c)};return Z(()=>{m()}),G({getLabel:_,editDisabled:S,uploadSuccess:v,uploadRemove:L,uploadError:u},ne(n))}},ot=["innerHTML"],at={key:1,class:"icon-plus"},it={class:"el-upload__tip"},st={key:15,class:"gray"},rt={key:1,src:nt,style:{"max-width":"100%"}},dt=["innerHTML"];function ct(e,l,t,n,d,m){const _=f("Tooltip"),S=f("el-input"),T=f("el-radio"),V=f("el-radio-group"),E=f("el-checkbox"),v=f("el-checkbox-group"),L=f("el-option"),u=f("el-select"),a=f("el-date-picker"),o=f("el-time-picker"),c=f("el-color-picker"),r=f("el-switch"),i=f("el-input-number"),C=f("el-cascader"),k=f("el-button"),I=f("el-upload"),z=f("el-slider"),_e=f("el-rate"),pe=f("tinymce-edit"),ge=f("el-form-item");return s(),p(ge,D(t.element.item,{prop:t.tProps||t.element.name,class:t.element.className,rules:t.element.rules&&t.element.rules.length>0?t.element.rules:void 0,label:n.getLabel(t.element)}),H({default:y(()=>[e.type===3?(s(),h("div",{key:0,class:"form-value",innerHTML:e.value},null,8,ot)):(s(),h(N,{key:1},[t.element.type==="input"||t.element.type==="password"?(s(),p(S,D({key:0},t.element.control,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=g=>e.value=g),disabled:n.editDisabled,type:t.element.type==="password"?"password":""}),H({_:2},[t.element.config.prepend?{name:"prepend",fn:y(()=>[P(O(t.element.config.prepend),1)])}:void 0,t.element.config.append?{name:"append",fn:y(()=>[P(O(t.element.config.append),1)])}:void 0]),1040,["modelValue","disabled","type"])):b("",!0),t.element.type==="textarea"?(s(),p(S,D({key:1},t.element.control,{modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=g=>e.value=g),disabled:n.editDisabled,type:"textarea"}),null,16,["modelValue","disabled"])):b("",!0),t.element.type==="radio"?(s(),p(V,D({key:2},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[2]||(l[2]=g=>e.value=g)}),{default:y(()=>[(s(!0),h(N,null,B(t.element.options,(g,X)=>(s(),p(T,{key:X,label:g.value},{default:y(()=>[P(O(g.label),1)]),_:2},1032,["label"]))),128))]),_:1},16,["disabled","modelValue"])):b("",!0),t.element.type==="checkbox"?(s(),p(v,D({key:3},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[3]||(l[3]=g=>e.value=g)}),{default:y(()=>[(s(!0),h(N,null,B(t.element.options,(g,X)=>(s(),p(E,{key:X,value:g.value,label:g.label},null,8,["value","label"]))),128))]),_:1},16,["disabled","modelValue"])):b("",!0),t.element.type==="select"?(s(),p(u,D({key:4},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[4]||(l[4]=g=>e.value=g)}),{default:y(()=>[(s(!0),h(N,null,B(t.element.options,g=>(s(),p(L,{key:g.value,label:g.label,value:g.value},null,8,["label","value"]))),128))]),_:1},16,["disabled","modelValue"])):b("",!0),t.element.type==="datePicker"?(s(),p(a,D({key:5},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[5]||(l[5]=g=>e.value=g)}),null,16,["disabled","modelValue"])):b("",!0),t.element.type==="timePicker"?(s(),p(o,D({key:6},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[6]||(l[6]=g=>e.value=g)}),null,16,["disabled","modelValue"])):b("",!0),t.element.type==="colorPicker"?(s(),p(c,D({key:7},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[7]||(l[7]=g=>e.value=g)}),null,16,["disabled","modelValue"])):b("",!0),t.element.type==="switch"?(s(),p(r,D({key:8},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[8]||(l[8]=g=>e.value=g)}),null,16,["disabled","modelValue"])):b("",!0),t.element.type==="number"?(s(),p(i,D({key:9},t.element.control,{modelValue:e.value,"onUpdate:modelValue":l[9]||(l[9]=g=>e.value=g),disabled:n.editDisabled}),null,16,["modelValue","disabled"])):b("",!0),t.element.type==="cascader"?(s(),p(C,D({key:10},t.element.control,{modelValue:e.value,"onUpdate:modelValue":l[10]||(l[10]=g=>e.value=g),disabled:n.editDisabled,options:t.element.options}),null,16,["modelValue","disabled","options"])):b("",!0),t.element.type==="upload"?(s(),p(I,D({key:11,class:"upload-style"},t.element.control,{disabled:n.editDisabled,class:{limit:t.element.control.limit<=t.element.control.modelValue.length},"on-success":n.uploadSuccess,"on-remove":n.uploadRemove,"on-error":n.uploadError}),H({default:y(()=>[t.element.config.btnText?(s(),p(k,{key:0,type:"primary"},{default:y(()=>[P(O(t.element.config.btnText),1)]),_:1})):(s(),h("i",at))]),_:2},[t.element.config.tip?{name:"tip",fn:y(()=>[U("div",it,O(t.element.config.tip),1)])}:void 0]),1040,["disabled","class","on-success","on-remove","on-error"])):b("",!0),t.element.type==="slider"?(s(),p(z,D({key:12},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[11]||(l[11]=g=>e.value=g)}),null,16,["disabled","modelValue"])):b("",!0),t.element.type==="rate"?(s(),p(_e,D({key:13},t.element.control,{disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[12]||(l[12]=g=>e.value=g)}),null,16,["disabled","modelValue"])):b("",!0),t.element.type==="component"&&e.type!==4?(s(),p(re(t.element.config.component),D({key:14},t.element.control,{modelValue:e.value,"onUpdate:modelValue":l[13]||(l[13]=g=>e.value=g),disabled:n.editDisabled}),null,16,["modelValue","disabled"])):b("",!0),t.element.type==="component"&&e.type===4?(s(),h("div",st," \u8BF7\u4F7F\u7528provide\u6CE8\u5165\u7EC4\u4EF6\u5982\uFF1Aprovide('"+O(t.element.config.template)+"', import\u8FDB\u6765\u7684\u7EC4\u4EF6) ",1)):b("",!0),t.element.type==="tinymce"?(s(),h(N,{key:16},[e.type===1||e.type===2?(s(),p(pe,D({key:0},t.element.control,{config:t.element.config,disabled:n.editDisabled,modelValue:e.value,"onUpdate:modelValue":l[14]||(l[14]=g=>e.value=g)}),null,16,["config","disabled","modelValue"])):b("",!0),e.type===4?(s(),h("img",rt)):b("",!0)],64)):b("",!0),t.element.type==="txt"?(s(),h("div",D({key:17},t.element.control,{innerHTML:e.value}),null,16,dt)):b("",!0)],64))]),_:2},[t.element.config.help?{name:"label",fn:y(()=>[P(O(n.getLabel(t.element))+" ",1),w(_,{content:t.element.config.help},null,8,["content"])])}:void 0]),1040,["prop","class","rules","label"])}var me=M(lt,[["render",ct]]);const ut={name:"childTable",components:{FormItem:me,Tooltip:Q},props:{data:Object,type:Number},setup(e){const l=()=>{const m={};e.data.list.forEach(_=>{_.name&&(_.type==="checkbox"?m[_.name]=[]:m[_.name]="")}),e.data.tableData.push(JSON.parse(JSON.stringify(m)))},t=m=>typeof m=="string"?m:m&&m.toString(),n=m=>{e.data.tableData.splice(m,1)},d=R("DFSetFormValue","");return we(()=>{d&&d.value&&(e.data.tableData=d.value[e.data.name])}),{addColumn:l,delColumn:n,getText:t}}},mt={class:"form-table form-table-add"},ft={key:0},_t={key:1},pt={key:2},gt=P("\u5220\u9664 "),yt={key:0,class:"table-btn"},bt=P("\u589E\u52A0");function ht(e,l,t,n,d,m){const _=f("el-button"),S=f("form-item"),T=f("Tooltip"),V=f("el-table-column"),E=f("el-table");return s(),h("div",mt,[w(E,D(t.data.control,{class:[t.data.className],data:t.data.tableData}),{default:y(()=>[(s(!0),h(N,null,B(t.data.list,(v,L)=>(s(),p(V,{key:L,prop:v.name,label:v.item.label,width:v.item.span},H({default:y(u=>[v.typeColumn==="index"?(s(),h("span",ft,O(u.$index+1),1)):b("",!0),t.type===3?(s(),h("div",_t,O(n.getText(u.row[v.name])),1)):(s(),h("div",pt,[v.typeColumn==="operate"&&t.type===1?(s(),p(_,{key:0,type:"text",onClick:a=>n.delColumn(u.$index)},{default:y(()=>[gt]),_:2},1032,["onClick"])):(s(),p(S,{key:1,tProps:`${t.data.name}.${u.$index}.${v.name}`,modelValue:u.row[v.name],"onUpdate:modelValue":a=>u.row[v.name]=a,element:v},null,8,["tProps","modelValue","onUpdate:modelValue","element"]))]))]),_:2},[v.help?{name:"header",fn:y(u=>[P(O(u.column.label)+" ",1),w(T,{content:v.help},null,8,["content"])])}:void 0]),1032,["prop","label","width"]))),128))]),_:1},16,["class","data"]),t.type===1?(s(),h("div",yt,[w(_,{size:"small",onClick:n.addColumn},{default:y(()=>[bt]),_:1},8,["onClick"])])):b("",!0)])}var vt=M(ut,[["render",ht]]);const kt={name:"formGroup",components:{Draggable:Le,FormItem:me,ChildTable:vt,Tooltips:Q},props:{data:{type:Object,default:()=>({})}},setup(e){const l=R("DFStatusType",{}),t=Oe(),n=te({clone:!0,gridAdd:!1,type:l.type}),d=W(()=>t.state.form.activeKey),m=u=>["grid","table","tabs"].indexOf(u)===-1,_=(u,a,o)=>{if(n.type===4)if(u==="clone"){console.log(o);const c=o.type+new Date().getTime().toString(),r=JSON.parse(JSON.stringify(o));e.data.list.splice(a,0,Object.assign(r,{name:c}))}else u==="del"?(e.data.list.splice(a,1),t.commit("setActiveKey",""),t.commit("setControlAttr",{})):u==="gridAdd"?o.columns.push({list:[],attr:{span:12}}):u==="delGridChild"&&o.splice(a,1)},S=u=>{if(n.type!==4)return;const a=u.newIndex,o=new Date().getTime().toString(),c=e.data.list,r=JSON.parse(JSON.stringify(c[a]));if((u.target&&u.target.getAttribute("data-type"))==="not-nested"&&!m(r.type)){c.splice(a,1);return}if(!r)return;const C=r.label||r.item.label||"";delete r.label,delete r.icon;let k={},I={};m(r.type)?(k={item:{label:C,showLabel:!1},rules:[]},(r.type==="input"||r.type==="textarea"||r.type==="component")&&(I={customRules:[]})):k={},c[a]=Object.assign({name:r.type+o},r,k,I),t.commit("setActiveKey",r.type+o),t.commit("setControlAttr",c[a]),n.gridAdd=r.type==="grid",n.clone=m(r.type)},T=(u,a)=>{n.type===4&&(a==="gridChild"&&(u.name||(u.name="gridChild"+new Date().getTime().toString()),u.type=a),t.commit("setActiveKey",u.name),t.commit("setControlAttr",u),n.gridAdd=u.type==="grid",n.clone=m(u.type))},V=u=>{if(u.config&&u.config.span)return{width:u.config.span/24*100+"%"}},E=R("DFFormModel",""),v=u=>{if(!u.config||!E)return!0;const a=u.config.linkKey,o=u.config.linkValue;if(a&&o&&n.type!==4){const c=a.split(/,|&/),r=o.split(/,|&/),i=a.indexOf("&")!==-1||o.indexOf("&")!==-1;let C=!1;for(let k=0;k<c.length;k++)if(i){if(C=!0,E.value[c[k]]!==r[k]){C=!1;break}}else if(E.value[c[k]]===r[k]){C=!0;break}return C}return!0},L=u=>{const{type:a,isEdit:o}=l,{config:{disabledAdd:c,disabledEdit:r,disabledDetail:i}={}}=u;if(a===1){if(o&&r||!o&&c)return!1}else if((a===2||a===3)&&i)return!1;const C=e.data.config&&e.data.config.vIf;return C&&C.length>0?C.indexOf(u.name)===-1:!0};return Y(G({click:_,draggableAdd:S},ne(n)),{groupClick:T,activeKey:d,getFormItemStyle:V,linksShow:v,linksIf:L})}},Vt=["onClick"],Dt={key:0,class:"form-tabs"},Ct=["innerHTML"],Et={key:0,class:"form-table"},St={key:0,class:"drag-control"},Tt={class:"item-control"},Ft=["onClick"],wt={key:7,class:"drag-control"},Lt={class:"item-control"},Ot=["onClick"],At=["onClick"],Pt=["onClick"],It=U("div",{class:"drag-move icon-move"},null,-1),Rt={key:8,class:"tooltip"};function Nt(e,l,t,n,d,m){const _=f("form-group",!0),S=f("el-tab-pane"),T=f("el-tabs"),V=f("Tooltips"),E=f("child-table"),v=f("el-col"),L=f("el-row"),u=f("el-collapse-item"),a=f("el-collapse"),o=f("el-divider"),c=f("form-item"),r=f("draggable");return s(),p(r,D({itemKey:"key-form",modelValue:t.data.list,"onUpdate:modelValue":l[0]||(l[0]=i=>t.data.list=i),name:"fade",class:"drag"},{group:"form",ghostClass:"ghost",animation:200,handle:".drag-move"},{onAdd:n.draggableAdd}),{item:y(({element:i,index:C})=>[n.linksIf(i)?de((s(),h("div",{key:0,class:ie(["group",{["group-"+i.type]:!0,active:n.activeKey===i.name}]),style:Pe(n.getFormItemStyle(i)),onClick:q(k=>n.groupClick(i),["stop"])},[i.type==="tabs"?(s(),h("div",Dt,[w(T,D(i.control,{class:[i.className]}),{default:y(()=>[(s(!0),h(N,null,B(i.columns,(k,I)=>(s(),p(S,{label:k.label,key:I},{default:y(()=>[w(_,{data:k,"data-type":"not-nested"},null,8,["data"])]),_:2},1032,["label"]))),128))]),_:2},1040,["class"])])):i.type==="title"?(s(),h("div",D({key:1,class:["title",[i.className]]},i.control),[U("span",{innerHTML:i.control.modelValue},null,8,Ct),i.help?(s(),p(V,{key:0,content:i.help},null,8,["content"])):b("",!0)],16)):i.type==="table"?(s(),h(N,{key:2},[e.type===4?(s(),h("div",Et,[w(_,{data:i,"data-type":"not-nested"},null,8,["data"])])):(s(),p(E,{key:1,data:i,type:e.type},null,8,["data","type"]))],64)):i.type==="grid"?(s(),p(L,{key:3,class:ie(["form-row",[i.className]])},{default:y(()=>[(s(!0),h(N,null,B(i.columns,(k,I)=>(s(),p(v,D({class:["form-col",{"active-col":n.activeKey===k.name,[k.className]:k.className}]},k.attr,{key:I,onClick:q(z=>n.groupClick(k,"gridChild"),["stop"])}),{default:y(()=>[w(_,{data:k,"data-type":"not-nested"},null,8,["data"]),e.type===4?(s(),h("div",St,[U("div",Tt,[U("i",{class:"icon-del",onClick:q(z=>n.click("delGridChild",I,i.columns),["stop"])},null,8,Ft)])])):b("",!0)]),_:2},1040,["class","onClick"]))),128))]),_:2},1032,["class"])):i.type==="card"?(s(),p(a,{key:4,"model-value":"1"},{default:y(()=>[w(u,{title:i.item.label,name:"1"},H({default:y(()=>[w(_,{data:i},null,8,["data"])]),_:2},[i.help?{name:"title",fn:y(()=>[P(O(i.item.label)+" ",1),w(V,{content:i.help},null,8,["content"])])}:void 0]),1032,["title"])]),_:2},1024)):i.type==="divider"?(s(),p(o,ce(D({key:5},i.control)),{default:y(()=>[P(O(i.item&&i.item.label),1)]),_:2},1040)):(s(),p(c,{key:6,element:i},null,8,["element"])),e.type===4?(s(),h("div",wt,[U("div",Lt,[e.gridAdd?(s(),h("i",{key:0,class:"icon-plus",onClick:q(k=>n.click("gridAdd",C,i),["stop"]),title:"\u6DFB\u52A0\u5217"},null,8,Ot)):b("",!0),e.clone?(s(),h("i",{key:1,class:"icon-clone",onClick:q(k=>n.click("clone",C,i),["stop"]),title:"\u514B\u9686"},null,8,At)):b("",!0),U("i",{class:"icon-del",onClick:q(k=>n.click("del",C),["stop"])},null,8,Pt)]),It])):b("",!0),e.type===4?(s(),h("div",Rt,O(i.name),1)):b("",!0)],14,Vt)),[[Ae,n.linksShow(i)]]):b("",!0)]),_:1},16,["modelValue","onAdd"])}var Ut=M(kt,[["render",Nt]]);const zt={name:"formIndex",components:{formGroup:Ut},props:{formData:{type:Object,default:()=>({list:[],config:{}})},type:{type:Number,default:1},isEdit:{type:Boolean,default:!1},disabled:Boolean},setup(e){let l=0,t="";const n=o=>{if(e.formData&&e.formData.list){const c=e.formData.config.name;t=`get${c}ControlByName`,c&&(!window[t]||!o)&&(window[t]=r=>{for(let i=0;i<e.formData.list.length;i++)if(e.formData.list[i].name===r)return e.formData.list[i]})}};j(()=>e.formData,()=>{l<2&&n(),l++,a(!0)},{deep:!0}),n();const d=W(()=>{const o={};return e.formData&&e.formData.list&&m(e.formData.list,o),o}),m=(o,c)=>{o.forEach(r=>{r.type==="table"?c[r.name]=r.tableData:r.type==="grid"||r.type==="tabs"?r.columns.forEach(i=>{m(i.list,c)}):r.type==="card"?m(r.list,c):["title"].indexOf(r.type)===-1&&(c[r.name]=r.control.modelValue)})};K("DFStatusType",{type:e.type,isEdit:e.isEdit}),K("DFFormModel",d);const _=x([]);j(()=>e.formData,o=>{_.value=o.config.rulesComm}),K("DFFormRulesComm",_);const S=x(),T=o=>{S.value.validate(c=>{o(c)})},V=o=>{if(o){const c={};for(const r in d.value)if(d.value.hasOwnProperty(r)){const i=d.value[r];i!==""&&i&&i.length>0&&(c[r]=i)}return c}else return d.value},E=x();K("DFSetFormValue",E);const v=o=>{E.value=o},L=x();K("DFSetFormOptions",L);const u=o=>{L.value=o},a=o=>{const{config:c={},style:r}=e.formData,i=document.getElementById(c.name+"Style");if(i&&o){i.innerText=r;return}if(r&&o){const C=document.createElement("style");C.id=c&&c.name+"Style",C.appendChild(document.createTextNode(r)),document.head.appendChild(C)}o||i&&i.parentNode.removeChild(i)};return Z(()=>{Ie(()=>{a(!0)})}),Re(()=>{t&&(window[t]=""),a()}),{model:d,validate:T,ruleForm:S,getValue:V,setValue:v,setOptions:u,setWindowEvent:n}}};function jt(e,l,t,n,d,m){const _=f("form-group"),S=f("el-form");return s(),p(S,D(t.formData.config,{ref:"ruleForm",model:n.model,disabled:t.disabled||t.type===2,class:["add-form",{"design-form":t.type===4,"detail-form":t.type===3||t.type===2}]}),{default:y(()=>[w(_,{data:t.formData},null,8,["data"]),J(e.$slots,"default")]),_:3},16,["model","disabled","class"])}var fe=M(zt,[["render",jt]]);const xt={name:"tableList",props:{searchData:Object,tableData:Object,beforeRequest:Function,afterResponse:Function,showPage:{type:Boolean,default:!0},autoLoad:{type:Boolean,default:!0},requestUrl:Function,tableList:Array},components:{designForm:fe,Tooltip:Q},setup(e){const l=Ne(),t=x(),n=x(),d=te({loading:!1,tableDataList:e.tableList,currentPage:1,pageSize:20,total:0}),m=()=>{if(d.loading)return;d.loading=!0;let V=t.value&&t.value.getValue(!0);e.beforeRequest&&(V=e.beforeRequest(V||{})),e.requestUrl&&e.requestUrl(l.query.formName,V).then(E=>{let v=E.data.data;e.afterResponse&&(v=e.afterResponse(v)),d.tableDataList=v,d.loading=!1}).catch(E=>{d.loading=!1}),d.loading=!1},_=()=>{t.value.ruleForm.resetFields(),t.value.setValue(t.value.getValue())},S=V=>{d.pageSize=V,m()},T=V=>{d.currentPage=V,m()};return Z(()=>{e.autoLoad&&m()}),Y(G({},ne(d)),{handleSizeChange:S,handleCurrentChange:T,getListData:m,searchClear:_,designForm:t,tableEl:n})}},Bt={class:"table-list-comm"},Mt={key:0,class:"table-search"},qt=P("\u67E5\u8BE2 "),Ht=P("\u6E05\u7A7A"),Kt={class:"table-main"},Jt={key:1,class:"table-page"};function Gt(e,l,t,n,d,m){const _=f("el-button"),S=f("design-form"),T=f("Tooltip"),V=f("el-table-column"),E=f("el-table"),v=f("el-pagination"),L=Ue("loading");return de((s(),h("div",Bt,[Object.keys(t.searchData).length>0?(s(),h("div",Mt,[w(S,{disabled:e.loading,"form-data":t.searchData,ref:"designForm"},{default:y(()=>[J(e.$slots,"DFSearchForm"),e.$slots.DFSearchForm?b("",!0):(s(),h(N,{key:0},[w(_,{type:"primary",onClick:n.getListData,loading:e.loading},{default:y(()=>[qt]),_:1},8,["onClick","loading"]),w(_,{onClick:n.searchClear},{default:y(()=>[Ht]),_:1},8,["onClick"])],64))]),_:3},8,["disabled","form-data"])])):b("",!0),J(e.$slots,"default"),U("div",Kt,[J(e.$slots,"DFTable"),e.$slots.DFTable?b("",!0):(s(),p(E,D({key:0,data:e.tableDataList},t.tableData.config,{ref:"tableEl"}),{default:y(()=>[(s(!0),h(N,null,B(t.tableData.columns,u=>(s(),p(V,ce(D({key:u.prop||u.label},u)),H({_:2},[u.help?{name:"header",fn:y(a=>[P(O(a.column.label)+" ",1),w(T,{content:u.help},null,8,["content"])])}:void 0,e.$slots[u.prop]?{name:"default",fn:y(a=>[J(e.$slots,u.prop,{row:a.row,$index:a.$index})])}:void 0]),1040))),128))]),_:3},16,["data"]))]),t.showPage?(s(),h("div",Jt,[w(v,{currentPage:e.currentPage,"onUpdate:currentPage":l[0]||(l[0]=u=>e.currentPage=u),"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:n.handleSizeChange,onCurrentChange:n.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])):b("",!0)])),[[L,e.loading]])}var Wt=M(xt,[["render",Gt]]),Zt=e=>{e.component("akFormDesign",fe),e.component("akTableList",Wt)};ze(qe).use(je).use(Je).use(We).use(Zt).mount("#app");export{M as _,nn as a,$t as b,an as c,fe as d,ln as e,on as f,en as g,tn as h,sn as i,Yt as s,Wt as t};
